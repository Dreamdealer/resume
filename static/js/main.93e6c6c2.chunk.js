(this["webpackJsonpJohans-Resume-Website"]=this["webpackJsonpJohans-Resume-Website"]||[]).push([[0],{24:function(n,e,t){"use strict";t.r(e);var r,o,i,c,a,s,l,u,f,d,b,p,h,x,j,m,g,O,y,v,w,k,S,z=t(13),T=t.n(z),C=t(4),E=t(1),L=t(5),I=t(3),P=t(2),F={width:10,height:20},D={size:32,spacing:0},A=t(0),M=P.b.div(r||(r=Object(I.a)(["\n    width: ","px;\n    height: ","px;\n    position: relative;\n    transform-style: preserve-3d;\n    transform: translateX(","px) translateY(","px)\n        translateZ(","px);\n    transition: transform 1s;\n\n    ","\n"])),D.size,D.size,D.spacing/2,D.spacing/2,D.size,(function(n){return!n.transparent&&"\n        &::after {\n            content: '';\n            position: absolute;\n            width: ".concat(D.size,"px;\n            height: ").concat(D.size,"px;\n            background: rgba(0,0,0,.1);\n            box-shadow: 0 0 10px rgba(0,0,0,.1);\n            transform: translateZ(-").concat(D.size,"px);\n        }\n    ")})),R=P.b.div(o||(o=Object(I.a)(["\n    position: absolute;\n    width: ","px;\n    height: ","px;\n    background: ",";\n    line-height: ","px;\n    font-size: 40px;\n    font-weight: bold;\n    color: white;\n    text-align: center;\n    box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.1) inset;\n    transform: ",";\n"])),D.size-2*D.spacing,D.size-2*D.spacing,(function(n){var e=n.tetrominoType;return n.theme.tetrominos[e].color}),D.size,(function(n){var e=n.face;return"".concat(function(n){switch(n){case"right":return"rotateY(90deg)";case"back":return"rotateY(180deg)";case"left":return"rotateY(-90deg)";case"top":return"rotateX(90deg)";case"bottom":return"rotateX(-90deg)";default:case"front":return"rotateY(0deg)"}}(e)," translateZ(").concat(D.size/2-D.spacing,"px)")})),J=function(n){return 0===n.tetrominoType?Object(A.jsx)(M,{transparent:!0}):Object(A.jsxs)(M,{children:[Object(A.jsx)(R,{face:"front",tetrominoType:n.tetrominoType}),Object(A.jsx)(R,{face:"back",tetrominoType:n.tetrominoType}),Object(A.jsx)(R,{face:"right",tetrominoType:n.tetrominoType}),Object(A.jsx)(R,{face:"left",tetrominoType:n.tetrominoType}),Object(A.jsx)(R,{face:"top",tetrominoType:n.tetrominoType}),Object(A.jsx)(R,{face:"bottom",tetrominoType:n.tetrominoType})]})},N=P.b.div(i||(i=Object(I.a)(["\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    color: ",";\n    padding: 20px;\n"])),(function(n){return n.theme.modal.color})),U=function(){return Object(A.jsxs)(N,{children:["Keybindings:",Object(A.jsx)("br",{}),Object(A.jsx)("br",{}),"Up = Rotate tetromino",Object(A.jsx)("br",{}),Object(A.jsx)("br",{}),"Left = Move tetromino left one cell",Object(A.jsx)("br",{}),Object(A.jsx)("br",{}),"Right = Move tetromino right one cell",Object(A.jsx)("br",{}),Object(A.jsx)("br",{}),"Down = Move tetromino down one cell",Object(A.jsx)("br",{}),Object(A.jsx)("br",{}),"PageDown or End = Move tetromino all the way down"]})},W=P.b.div(c||(c=Object(I.a)(["\n    width: ",";\n    height: ",";\n    display: flex;\n    flex-flow: column nowrap;\n    justify-content: flex-end;\n    align-items: flex-end;\n    background: ",";\n\n    ","\n\n    box-shadow: 0 0 0 1px "," inset;\n    border: "," solid ",";\n    border-radius: 8px;\n    position: relative;\n\n    "," {\n        box-shadow: none;\n        filter: ",";\n    }\n"])),(function(){return"".concat(F.width*D.size,"px")}),(function(){return"".concat(F.height*D.size,"px")}),(function(n){return n.theme.stage.background}),(function(n){var e=n.showInstructions,t=n.theme;return!e&&"\n        background-image: linear-gradient(".concat(t.stage.lines," 1px, transparent 1px),\n            linear-gradient(90deg, ").concat(t.stage.lines," 1px, transparent 1px);\n        background-size: ").concat(D.size,"px ").concat(D.size,"px,\n            ").concat(D.size,"px ").concat(D.size,"px;\n        background-position: -1px -1px, -1px -1px;\n    ")}),(function(n){return n.theme.stage.lines}),(function(n){return n.theme.main.borderWidth}),(function(n){return n.theme.main.borderColor}),M,(function(n){return n.paused?"blur(15px)":"none"})),Z=P.b.div(a||(a=Object(I.a)(["\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    color: ",";\n    padding: 20px;\n    font-size: 40px;\n"])),(function(n){return n.theme.modal.color})),G=P.b.div(s||(s=Object(I.a)(["\n    display: flex;\n    height: ","px;\n    width: 100%;\n"])),D.size),H=P.b.div(l||(l=Object(I.a)(["\n    position: absolute;\n    left: ",";\n    width: ",";\n    top: 0;\n    bottom: 0;\n    background: ",";\n"])),(function(n){var e=n.left,t=n.columnWidth;return"".concat(e*t,"px")}),(function(n){var e=n.size,t=n.columnWidth;return"".concat(e*t,"px")}),(function(n){return n.theme.stage.guide})),B=function(n){return Object(A.jsxs)(W,{showInstructions:n.showInstructions,paused:n.paused,children:[n.showInstructions&&Object(A.jsx)(U,{}),n.paused&&Object(A.jsx)(Z,{children:"Paused"}),n.activeColumns.size>0&&Object(A.jsx)(H,Object(L.a)(Object(L.a)({},n.activeColumns),{},{columnWidth:D.size})),n.stage.map((function(n,e){return Object(A.jsx)(G,{children:n.map((function(n,t){var r=Object(C.a)(n,1)[0];return Object(A.jsx)(J,{tetrominoType:r},e+t)}))},e)}))]})},Y=function(){return Array.from(Array(F.height),(function(){return new Array(F.width).fill([0,"clear"])}))},X=function(n,e,t){for(var r=t.x,o=t.y,i=0;i<n.tetromino.length;i+=1)for(var c=0;c<n.tetromino[i].length;c+=1)if(0!==n.tetromino[i][c]&&(!e[i+n.pos.y+o]||!e[i+n.pos.y+o][c+n.pos.x+r]||"clear"!==e[i+n.pos.y+o][c+n.pos.x+r][1]))return!0},_=[[0,"?",0],["?",0,"?"],[0,0,"?"],[0,"?",0],[0,0,0],[0,"?",0]],K={0:{shape:[[0]],preview:[[0]]},I:{shape:[[0,"I",0,0],[0,"I",0,0],[0,"I",0,0],[0,"I",0,0]],preview:[["I"],["I"],["I"],["I"]]},J:{shape:[[0,"J",0],[0,"J",0],["J","J",0]],preview:[[0,"J"],[0,"J"],["J","J"]]},L:{shape:[[0,"L",0],[0,"L",0],[0,"L","L"]],preview:[["L",0],["L",0],["L","L"]]},O:{shape:[["O","O"],["O","O"]],preview:[["O","O"],["O","O"]]},S:{shape:[[0,"S","S"],["S","S",0],[0,0,0]],preview:[[0,"S","S"],["S","S",0]]},T:{shape:[[0,0,0],["T","T","T"],[0,"T",0]],preview:[["T","T","T"],[0,"T",0]]},Z:{shape:[["Z","Z",0],[0,"Z","Z"],[0,0,0]],preview:[["Z","Z",0],[0,"Z","Z"]]}},q=function(){var n="IJLOSTZ",e=n[Math.floor(Math.random()*n.length)];return K[e]},Q={pos:{x:0,y:0},tetromino:K[0].shape,collided:!1},V=t(6),$=function(n,e){var t=Object(E.useState)(Y()),r=Object(C.a)(t,2),o=r[0],i=r[1],c=Object(E.useState)(0),a=Object(C.a)(c,2),s=a[0],l=a[1],u=Object(E.useState)({left:0,size:0}),f=Object(C.a)(u,2),d=f[0],b=f[1];return Object(E.useEffect)((function(){l(0);var t=function(t){var r=t.map((function(n){return n.map((function(n){return"clear"===n[1]?[0,"clear"]:n}))})),o=n.tetromino.map((function(n){var e=n.map((function(n,e){return 0!==n?e+1:0})).filter((function(n){return n>0}));return e.length>0?[Math.min.apply(Math,Object(V.a)(e)),Math.max.apply(Math,Object(V.a)(e))]:[]})).filter((function(n){return n.length>0})).flat();return b({left:n.pos.x+(Math.min.apply(Math,Object(V.a)(o))-1),size:Math.max.apply(Math,Object(V.a)(o))-Math.min.apply(Math,Object(V.a)(o))+1}),n.tetromino.forEach((function(e,t){e.forEach((function(e,o){if(0!==e){var i=t+n.pos.y,c=o+n.pos.x;r[i][c]=[e,n.collided?"merged":"clear"]}}))})),n.collided?(e(),function(n){return n.reduce((function(e,t){return-1===t.findIndex((function(n){return 0===n[0]}))?(l((function(n){return n+1})),e.unshift(new Array(n[0].length).fill([0,"clear"])),e):(e.push(t),e)}),[])}(r)):r};i((function(n){return t(n)}))}),[n,e]),[o,i,s,d]},nn=function(n,e){var t=Object(E.useRef)((function(){}));Object(E.useEffect)((function(){t.current=n})),Object(E.useEffect)((function(){if(null!==e){var n=setInterval((function(){return t.current()}),e||0);return function(){return clearInterval(n)}}}),[e])},en=P.b.div(u||(u=Object(I.a)(["\n    background: ",";\n    border: "," solid ",";\n    color: ",";\n    font-size: ",";\n    font-family: 'Press Start 2P', cursive;\n    border-radius: 8px;\n    line-height: 50px;\n    margin-top: 20px;\n    padding: 0 20px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-flow: column;\n"])),(function(n){return n.theme.buttonsAndDisplays.background}),(function(n){return n.theme.main.borderWidth}),(function(n){return n.theme.main.borderColor}),(function(n){return n.theme.buttonsAndDisplays.color}),(function(n){return n.theme.main.fontSize})),tn=P.b.button(f||(f=Object(I.a)(["\n    background: ",";\n    border: "," solid ",";\n    color: ",";\n    font-size: ",";\n    display: flex;\n    flex-grow: 1;\n    justify-content: center;\n    align-items: center;\n    outline: none;\n    padding: 0 20px;\n    border-radius: 8px;\n    line-height: 50px;\n    font-family: inherit;\n\n    .custom-fill {\n        fill: ",";\n    }\n\n    &:hover {\n        cursor: pointer;\n        box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);\n    }\n"])),(function(n){return n.theme.buttonsAndDisplays.background}),(function(n){return n.theme.main.borderWidth}),(function(n){return n.theme.main.borderColor}),(function(n){return n.theme.buttonsAndDisplays.color}),(function(n){return n.theme.main.fontSize}),(function(n){return n.theme.buttonsAndDisplays.color})),rn="1vw",on=P.b.div(d||(d=Object(I.a)(["\n    position: fixed;\n    display: flex;\n    width: 100%;\n    height: 100%;\n    justify-content: center;\n    align-items: center;\n    z-index: 99;\n    color: #000;\n    font-size: 60px;\n    font-size: 8vw;\n    display: flex;\n    flex-flow: column wrap;\n    font-family: 'Press Start 2P', cursive;\n    text-shadow: "," "," 0 #fff, "," 0 0 #fff, 0 "," 0 #fff, -"," "," 0 #fff, 00px 0 #fff,\n        0-"," 0 #fff, "," -"," 0 #fff, -"," -"," 0 #fff, 0 0 30px #000;\n\n    "," {\n        flex-grow: 0;\n    }\n"])),rn,rn,rn,rn,rn,rn,rn,rn,rn,rn,rn,tn),cn=P.b.div(b||(b=Object(I.a)(["\n    background: ",";\n    color: ",";\n    padding: 30px;\n    border-radius: 8px;\n"])),(function(n){return n.theme.modal.background}),(function(n){return n.theme.modal.color})),an=P.b.div(p||(p=Object(I.a)(["\n    color: ",";\n    position: fixed;\n    display: flex;\n    width: 100%;\n    height: 100%;\n    justify-content: center;\n    align-items: center;\n    z-index: 99;\n    display: flex;\n    flex-flow: column wrap;\n    font-family: 'Press Start 2P', cursive;\n    background: ","; ;\n"])),(function(n){return n.theme.main.color}),(function(n){return n.theme.modal.overlay})),sn=P.b.div(h||(h=Object(I.a)(["\n    margin-right: 20px;\n    display: flex;\n    flex-flow: column wrap;\n    justify-content: flex-start;\n    align-items: stretch;\n"]))),ln=P.b.div(x||(x=Object(I.a)(["\n    display: flex;\n    flex-flow: column wrap;\n"]))),un=P.b.div(j||(j=Object(I.a)(["\n    display: none;\n\n    @media (max-width: ","px) {\n        display: flex;\n    }\n\n    position: fixed;\n    top: ",";\n    height: 50px;\n    width: 100%;\n    z-index: 98;\n    justify-content: center;\n    align-items: stretch;\n"])),D.size*F.width+300,(function(){return"".concat(F.height*D.size-50,"px")})),fn=P.b.button(m||(m=Object(I.a)(["\n    display: flex;\n    outline: none;\n    border: none;\n    padding: 0;\n    flex-grow: 1;\n    justify-content: center;\n    background: rgba(255, 255, 255, 0.5);\n    padding: 20px;\n"]))),dn=P.b.div(g||(g=Object(I.a)(["\n    background: ",";\n    width: 100%;\n    display: flex;\n    flex-grow: 1;\n    justify-content: center;\n    align-items: center;\n    flex-flow: row nowrap;\n"])),(function(n){return n.theme.main.background})),bn=P.b.div(O||(O=Object(I.a)(["\n    outline: none;\n    display: flex;\n    flex-grow: 1;\n    flex-flow: row nowrap;\n    justify-content: center;\n    align-items: flex-start;\n    transform-style: preserve-3d;\n    transform: rotateX(",") rotateY(0deg) translateZ(0px);\n    filter: ",";\n    font-family: 'Press Start 2P', cursive;\n\n    // desktop size\n    @media (min-width: ","px) {\n        flex-flow: row nowrap;\n\n        "," {\n            width: 300px;\n        }\n    }\n\n    // mobile size\n    @media (max-width: ","px) {\n        flex-flow: column nowrap;\n        justify-content: center;\n        align-items: center;\n        padding-top: 10px;\n\n        "," {\n            font-size: 14px;\n            margin-top: 0;\n            padding: 8px;\n            line-height: 14px;\n            display: block;\n            border: 0;\n        }\n\n        "," {\n            margin: 0;\n            padding: 20px;\n            order: 2;\n\n            "," {\n                border: "," solid ",";\n                border-radius: 8px;\n                flex-flow: row wrap;\n                margin: 10px 0;\n                background: #fff;\n            }\n        }\n    }\n"])),(function(n){var e=n.tilt;return"".concat(e,"deg")}),(function(n){return n.gameOver?"blur(5px)":"none"}),D.size*F.width+300,sn,D.size*F.width+300,en,sn,ln,(function(n){return n.theme.main.borderWidth}),(function(n){return n.theme.main.borderColor})),pn=P.b.input(y||(y=Object(I.a)(["\n    width: 100%;\n"]))),hn=function(n){return Object(A.jsxs)(un,{children:[Object(A.jsx)(fn,{onClick:function(e){n.onPushLeft(),e.preventDefault()},children:"Left"}),Object(A.jsx)(fn,{onClick:function(e){n.onPushRotate(),e.preventDefault()},children:"Rotate"}),Object(A.jsx)(fn,{onClick:function(e){n.onPushDown(),e.preventDefault()},children:"Down"}),Object(A.jsx)(fn,{onClick:function(e){n.onPushRight(),e.preventDefault()},children:"Right"})]})},xn=P.b.div(v||(v=Object(I.a)(["\n    border: "," solid ",";\n    border-radius: 8px;\n    display: flex;\n    flex-flow: row nowrap;\n    align-items: stretch;\n\n    input {\n        display: none;\n    }\n"])),(function(n){return n.theme.main.borderWidth}),(function(n){return n.theme.main.borderColor})),jn=P.b.label(w||(w=Object(I.a)(["\n    display: flex;\n    flex-grow: 1;\n    justify-content: center;\n    padding: 20px;\n    color: ",";\n"])),(function(n){var e=n.checked,t=n.theme;return e?"#F00":t.main.color})),mn=function(n){return Object(A.jsx)(xn,{children:n.options.map((function(e){return Object(A.jsxs)(jn,{checked:n.selected===e.value,children:[Object(A.jsx)("input",{type:"radio",name:n.name,value:e.value,checked:n.selected===e.value,onChange:function(e){var t=e.target;n.onChange(t.value)}}),e.label]})}))})},gn=P.b.label(k||(k=Object(I.a)(["\n    display: flex;\n    outline: none;\n    line-height: 45px;\n    font-size: 20px;\n    margin-bottom: 12px;\n    margin-top: ",";\n    font-family: inherit;\n"])),(function(n){return n.mt?"30px":"0"})),On=function(n){return Object(A.jsx)(an,{children:Object(A.jsxs)(cn,{children:[Object(A.jsx)(gn,{children:"Tilt:"}),Object(A.jsx)(pn,{type:"range",name:"volume",value:n.localSettings.tilt,min:"0",max:"65",onChange:function(e){var t=e.target;n.onLocalSettingsChange(Object(L.a)(Object(L.a)({},n.localSettings),{},{tilt:parseInt(t.value)}))}}),Object(A.jsx)(gn,{mt:!0,children:"Theme:"}),Object(A.jsx)(mn,{name:"theme",options:[{value:"light",label:"Light"},{value:"dark",label:"Dark"}],selected:n.localSettings.theme,onChange:function(e){n.onLocalSettingsChange(Object(L.a)(Object(L.a)({},n.localSettings),{},{theme:e}))}}),Object(A.jsx)("div",{style:{marginTop:"20px",display:"flex",justifyContent:"center"},children:Object(A.jsx)(tn,{onClick:function(){n.onCloseSettings()},children:"Close"})})]})})},yn=P.b.div(S||(S=Object(I.a)(["\n    display: flex;\n    flex-grow: 0;\n    flex-shrink: 0;\n    flex-direction: ",";\n    justify-content: center;\n    align-items: stretch;\n"])),(function(n){var e=n.direction;return e||"row"}));function vn(){return(vn=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n}).apply(this,arguments)}function wn(n,e){if(null==n)return{};var t,r,o=function(n,e){if(null==n)return{};var t,r,o={},i=Object.keys(n);for(r=0;r<i.length;r++)t=i[r],e.indexOf(t)>=0||(o[t]=n[t]);return o}(n,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(r=0;r<i.length;r++)t=i[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(o[t]=n[t])}return o}var kn=E.createElement("g",null,E.createElement("path",{className:"custom-fill",d:"M57,11h-9.5C45.9,5.7,40.3,2.8,35,4.5c-3.1,1-5.6,3.4-6.5,6.5H7c-1.7,0-3,1.3-3,3s1.3,3,3,3h21.5c1.7,5.3,7.3,8.2,12.5,6.5   c3.1-1,5.6-3.4,6.5-6.5H57c1.7,0,3-1.3,3-3S58.7,11,57,11z M38,18c-2.2,0-4-1.8-4-4s1.8-4,4-4s4,1.8,4,4S40.2,18,38,18z"}),E.createElement("path",{className:"custom-fill",d:"M57,29H26.5c-1.7-5.3-7.3-8.2-12.5-6.5c-3.1,1-5.6,3.4-6.5,6.5H7c-1.7,0-3,1.3-3,3c0,1.7,1.3,3,3,3h0.5   c1.7,5.3,7.3,8.2,12.5,6.5c3.1-1,5.6-3.4,6.5-6.5H57c1.7,0,3-1.3,3-3C60,30.3,58.7,29,57,29z M17,36c-2.2,0-4-1.8-4-4s1.8-4,4-4   s4,1.8,4,4S19.2,36,17,36z"}),E.createElement("path",{className:"custom-fill",d:"M57,47h-1.5c-1.7-5.3-7.3-8.2-12.5-6.5c-3.1,1-5.6,3.4-6.5,6.5H7c-1.7,0-3,1.3-3,3s1.3,3,3,3h29.5   c1.7,5.3,7.3,8.2,12.5,6.5c3.1-1,5.6-3.4,6.5-6.5H57c1.7,0,3-1.3,3-3S58.7,47,57,47z M46,54c-2.2,0-4-1.8-4-4s1.8-4,4-4s4,1.8,4,4   S48.2,54,46,54z"}));function Sn(n,e){var t=n.title,r=n.titleId,o=wn(n,["title","titleId"]);return E.createElement("svg",vn({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 64 64",style:{enableBackground:"new 0 0 64 64"},xmlSpace:"preserve",ref:e,"aria-labelledby":r},o),t?E.createElement("title",{id:r},t):null,kn)}var zn,Tn=E.forwardRef(Sn),Cn=(t.p,{tetrominos:{0:{color:"#000"},I:{color:"#9cdaff"},J:{color:"#c568a5"},L:{color:"#ffd265"},O:{color:"#bcff7c"},S:{color:"#cd94ff"},T:{color:"#8aedeb"},Z:{color:"#dea6ec"},"?":{color:"#ece7a6"}},main:{background:"linear-gradient(to top, #ffefba, #ffffff)",color:"#000",borderColor:"#000",borderWidth:"1px",fontSize:"20px"},modal:{overlay:"rgba(0, 0, 0, 0.6)",background:"#FFF",color:"#000"},stage:{background:"#FFF",lines:"#BBB",guide:"rgba(0,0,0,0.05)"},buttonsAndDisplays:{background:"#FFF",color:"#000"}}),En={tetrominos:{0:{color:"#000"},I:{color:"#9cdaff"},J:{color:"#c568a5"},L:{color:"#ffd265"},O:{color:"#bcff7c"},S:{color:"#cd94ff"},T:{color:"#8aedeb"},Z:{color:"#dea6ec"},"?":{color:"#ece7a6"}},main:{background:"linear-gradient(to bottom, #0f2027, #203a43, #2c5364)",color:"#FFF",borderColor:"#FFF",borderWidth:"1px",fontSize:"20px"},modal:{overlay:"rgba(255, 255, 255, 0.6)",background:"#000",color:"#FFF"},stage:{background:"#000",lines:"#777",guide:"rgba(255,255,255,0.2)"},buttonsAndDisplays:{background:"#0f2027",color:"#FFF"}},Ln=P.b.div(zn||(zn=Object(I.a)(["\n    display: flex;\n    height: ","px;\n    width: 100%;\n"])),D.size),In=function(n){return Object(A.jsx)(yn,{direction:"column",children:n.shape.map((function(n,e){return Object(A.jsx)(Ln,{children:n.map((function(n,e){return Object(A.jsx)(J,{tetrominoType:n},e)}))},e)}))})},Pn=function(){var n=Object(E.useState)({tilt:0,theme:"light"}),e=Object(C.a)(n,2),t=e[0],r=e[1],o=Object(E.useState)(null),i=Object(C.a)(o,2),c=i[0],a=i[1],s=Object(E.useState)(!1),l=Object(C.a)(s,2),u=l[0],f=l[1],d=Object(E.useState)(!1),b=Object(C.a)(d,2),p=b[0],h=b[1],x=Object(E.useState)(!1),j=Object(C.a)(x,2),m=j[0],g=j[1],O=Object(E.useState)(!1),y=Object(C.a)(O,2),v=y[0],w=y[1],k=function(){var n=Object(E.useState)(Q),e=Object(C.a)(n,2),t=e[0],r=e[1],o=Object(E.useState)(q()),i=Object(C.a)(o,2),c=i[0],a=i[1],s=function(n,e){var t=n.map((function(e,t){return n.map((function(n){return n[t]}))}));return e>0?t.map((function(n){return n.reverse()})):t.reverse()},l=Object(E.useCallback)((function(){r({pos:{x:F.width/2-2,y:0},tetromino:c.shape,collided:!1}),a(q())}),[c]);return[t,function(n){var e=n.x,t=n.y,o=n.collided;r((function(n){return Object(L.a)(Object(L.a)({},n),{},{pos:{x:n.pos.x+=e,y:n.pos.y+=t},collided:o})}))},l,function(n,e){var o=JSON.parse(JSON.stringify(t));o.tetromino=s(o.tetromino,e);for(var i=o.pos.x,c=1;X(o,n,{x:0,y:0});)if(o.pos.x+=c,(c=-(c+(c>0?1:-1)))>o.tetromino[0].length)return s(o.tetromino,-e),void(o.pos.x=i);r(o)},c]}(),S=Object(C.a)(k,5),z=S[0],T=S[1],I=S[2],D=S[3],M=S[4],R=$(z,I),J=Object(C.a)(R,4),N=J[0],U=J[1],W=J[2],Z=J[3],G=function(n){var e=Object(E.useState)(0),t=Object(C.a)(e,2),r=t[0],o=t[1],i=Object(E.useState)(0),c=Object(C.a)(i,2),a=c[0],s=c[1],l=Object(E.useState)(0),u=Object(C.a)(l,2),f=u[0],d=u[1],b=[40,100,300,1200],p=Object(E.useCallback)((function(){n>0&&(o((function(e){return e+b[n-1]*(f+1)})),s((function(e){return e+n})))}),[f,b,n]);return Object(E.useEffect)((function(){p()}),[p,n,r]),[r,o,a,s,f,d]}(W),H=Object(C.a)(G,6),K=H[0],V=H[1],rn=H[2],cn=H[3],an=H[4],un=H[5],fn=Object(E.useRef)(null),pn=function(n){mn("UNPAUSE"),X(z,N,{x:n,y:0})||T({x:n,y:0,collided:!1})},xn=function(){U(Y()),a(1e3),I(),V(0),un(0),cn(0),h(!1),w(!0)},jn=function(n){rn>10*(an+1)&&(un((function(n){return n+1})),a(1e3/(an+1)+200));for(var e=0,t=1;t<=n&&!X(z,N,{x:0,y:t});t+=1)e=t;e===n?T({x:0,y:n,collided:!1}):(z.pos.y<1&&e<1&&(w(!1),h(!0),a(null)),T({x:0,y:e,collided:!0}))},mn=function(n){switch(n){case"LEFT":pn(-1);break;case"RIGHT":pn(1);break;case"DOWN":a(null),jn(1);break;case"FULLDOWN":a(null),jn(F.height);break;case"ROTATE":D(N,1);break;case"TOGGLE_PAUSE":m?(g(!1),a(1e3/(an+1))):(g(!0),a(null));break;case"UNPAUSE":g(!1),a(1e3/(an+1))}};return nn((function(){jn(1)}),c),Object(E.useEffect)((function(){var n=localStorage.getItem("TetrisSettings");n&&r(JSON.parse(n))}),[]),Object(A.jsx)(P.a,{theme:"light"===t.theme?Cn:En,children:Object(A.jsxs)(dn,{children:[u&&Object(A.jsx)(On,{localSettings:t,onLocalSettingsChange:function(n){r(n),localStorage.setItem("TetrisSettings",JSON.stringify(n))},onCloseSettings:function(){f(!1)}}),p&&Object(A.jsxs)(on,{children:[Object(A.jsx)("p",{children:"Game Over"}),Object(A.jsx)(tn,{onClick:function(){var n;xn(),null===fn||void 0===fn||null===(n=fn.current)||void 0===n||n.focus()},children:"Restart Game"})]}),Object(A.jsx)(hn,{onPushLeft:function(){mn("LEFT")},onPushRotate:function(){mn("ROTATE")},onPushRight:function(){mn("RIGHT")},onPushDown:function(){mn("DOWN"),mn("UNPAUSE")}}),Object(A.jsxs)(bn,{ref:fn,tilt:t.tilt,gameOver:p,role:"button",tabIndex:0,onKeyUp:function(n){var e=n.keyCode;p||40!==e&&34!==e&&35!==e||mn("UNPAUSE")},onKeyDown:function(n){!function(n){var e=!0;if(!p)switch(n.keyCode){case 37:mn("LEFT");break;case 39:mn("RIGHT");break;case 40:mn("DOWN");break;case 38:mn("ROTATE");break;case 80:mn("TOGGLE_PAUSE");break;case 34:case 35:mn("FULLDOWN");break;default:console.log("Unused keystroke: ".concat(n.keyCode)),e=!1}e&&n.preventDefault()}(n)},children:[Object(A.jsxs)(sn,{children:[Object(A.jsxs)(yn,{children:[v?Object(A.jsx)(tn,{onClick:function(){mn("TOGGLE_PAUSE")},children:m?"Continue":"Pause"}):Object(A.jsx)(tn,{onClick:function(){xn()},children:"Start"}),Object(A.jsx)(tn,{onClick:function(){m||mn("TOGGLE_PAUSE"),f(!0)},style:{marginLeft:"10px"},children:Object(A.jsx)(Tn,{style:{height:"30px"}})})]}),Object(A.jsxs)(ln,{children:[Object(A.jsxs)(en,{children:["Score: ",K]}),Object(A.jsxs)(en,{children:["Rows: ",rn]}),Object(A.jsxs)(en,{children:["Level: ",an]}),Object(A.jsxs)(en,{children:[Object(A.jsx)(yn,{children:"Next:"}),Object(A.jsx)(In,{shape:m?_:M.preview})]})]})]}),Object(A.jsx)(B,{paused:m,stage:N,showInstructions:!v,activeColumns:Z})]})]})})};T.a.render(Object(A.jsx)(Pn,{}),document.getElementById("tetris"))}},[[24,1,2]]]);
//# sourceMappingURL=main.93e6c6c2.chunk.js.map