(this["webpackJsonpJohans-Resume-Website"]=this["webpackJsonpJohans-Resume-Website"]||[]).push([[0],{24:function(n,e,t){"use strict";t.r(e);var o,r,c,i,a,s,l,u,f,d,p,b,x,j,h,O,g=t(0),m=t(13),v=t.n(m),w=t(4),y=t(5),k=t(2),z=t(3),S={width:10,height:20,backgroundColor:"#FFF",lineColor:"#BBB",guideColor:"rgba(0,0,0,.05)"},C={size:32,spacing:0},E={0:{shape:[[0]],color:"0, 0, 0"},I:{shape:[[0,"I",0,0],[0,"I",0,0],[0,"I",0,0],[0,"I",0,0]],color:"#9cdaff"},J:{shape:[[0,"J",0],[0,"J",0],["J","J",0]],color:"#c568a5"},L:{shape:[[0,"L",0],[0,"L",0],[0,"L","L"]],color:"#ffd265"},O:{shape:[["O","O"],["O","O"]],color:"#bcff7c"},S:{shape:[[0,"S","S"],["S","S",0],[0,0,0]],color:"#cd94ff"},T:{shape:[[0,0,0],["T","T","T"],[0,"T",0]],color:"#8aedeb"},Z:{shape:[["Z","Z",0],[0,"Z","Z"],[0,0,0]],color:"#dea6ec"}},P=function(){var n="IJLOSTZ",e=n[Math.floor(Math.random()*n.length)];return E[e]},T=t(1),L=z.a.div(o||(o=Object(k.a)(["\n    width: ","px;\n    height: ","px;\n    position: relative;\n    transform-style: preserve-3d;\n    transform: translateX(","px) translateY(","px)\n        translateZ(","px);\n    transition: transform 1s;\n\n    ","\n"])),C.size,C.size,C.spacing/2,C.spacing/2,C.size,(function(n){return!n.transparent&&"\n        &::after {\n            content: '';\n            position: absolute;\n            width: ".concat(C.size,"px;\n            height: ").concat(C.size,"px;\n            background: rgba(0,0,0,.1);\n            box-shadow: 0 0 10px rgba(0,0,0,.1);\n            transform: translateZ(-").concat(C.size,"px);\n        }\n    ")})),I=z.a.div(r||(r=Object(k.a)(["\n    position: absolute;\n    width: ","px;\n    height: ","px;\n    background: ",";\n    line-height: ","px;\n    font-size: 40px;\n    font-weight: bold;\n    color: white;\n    text-align: center;\n    box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.1) inset;\n    transform: ",";\n"])),C.size-2*C.spacing,C.size-2*C.spacing,(function(n){return n.color}),C.size,(function(n){var e=n.face;return"".concat(function(n){switch(n){case"right":return"rotateY(90deg)";case"back":return"rotateY(180deg)";case"left":return"rotateY(-90deg)";case"top":return"rotateX(90deg)";case"bottom":return"rotateX(-90deg)";default:case"front":return"rotateY(0deg)"}}(e)," translateZ(").concat(C.size/2-C.spacing,"px)")})),R=function(n){return"transparent"===n.color?Object(T.jsx)(L,{transparent:!0}):Object(T.jsxs)(L,{children:[Object(T.jsx)(I,{face:"front",color:n.color}),Object(T.jsx)(I,{face:"back",color:n.color}),Object(T.jsx)(I,{face:"right",color:n.color}),Object(T.jsx)(I,{face:"left",color:n.color}),Object(T.jsx)(I,{face:"top",color:n.color}),Object(T.jsx)(I,{face:"bottom",color:n.color})]})},M=z.a.div(c||(c=Object(k.a)(["\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    color: #000;\n    padding: 20px;\n"]))),U=function(){return Object(T.jsxs)(M,{children:["Keybindings:",Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),"Up = Rotate tetromino",Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),"Left = Move tetromino left one cell",Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),"Right = Move tetromino right one cell",Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),"Down = Move tetromino down one cell",Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),"PageDown or End = Move tetromino all the way down"]})},A=z.a.div(i||(i=Object(k.a)(["\n    width: ",";\n    height: ",";\n    display: flex;\n    flex-flow: column nowrap;\n    justify-content: flex-end;\n    align-items: flex-end;\n    background: ",";\n\n    ","\n\n    box-shadow: 0 0 0 1px "," inset;\n    border: 2px solid #000;\n    border-radius: 8px;\n    position: relative;\n\n    "," {\n        box-shadow: none;\n        filter: ",";\n    }\n"])),(function(){return"".concat(S.width*C.size,"px")}),(function(){return"".concat(S.height*C.size,"px")}),S.backgroundColor,(function(n){return!n.showInstructions&&"\n        background-image: linear-gradient(".concat(S.lineColor," 1px, transparent 1px),\n            linear-gradient(90deg, ").concat(S.lineColor," 1px, transparent 1px);\n        background-size: ").concat(C.size,"px ").concat(C.size,"px,\n            ").concat(C.size,"px ").concat(C.size,"px;\n        background-position: -1px -1px, -1px -1px;\n    ")}),S.lineColor,L,(function(n){return n.paused?"blur(15px)":"none"})),G=z.a.div(a||(a=Object(k.a)(["\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    color: #000;\n    padding: 20px;\n    font-size: 40px;\n"]))),D=z.a.div(s||(s=Object(k.a)(["\n    display: flex;\n    height: ","px;\n    width: 100%;\n"])),C.size),F=z.a.div(l||(l=Object(k.a)(["\n    position: absolute;\n    left: ",";\n    width: ",";\n    top: 0;\n    bottom: 0;\n    background: ",";\n"])),(function(n){var e=n.left,t=n.columnWidth;return"".concat(e*t,"px")}),(function(n){var e=n.size,t=n.columnWidth;return"".concat(e*t,"px")}),S.guideColor),J=function(n){return Object(T.jsxs)(A,{showInstructions:n.showInstructions,paused:n.paused,children:[n.showInstructions&&Object(T.jsx)(U,{}),n.paused&&Object(T.jsx)(G,{children:"Paused"}),n.activeColumns.size>0&&Object(T.jsx)(F,Object(y.a)(Object(y.a)({},n.activeColumns),{},{columnWidth:C.size})),n.stage.map((function(n,e){return Object(T.jsx)(D,{children:n.map((function(n,t){var o=Object(w.a)(n,2),r=o[0];o[1];return Object(T.jsx)(R,{color:0===r?"transparent":E[r].color},e+t)}))},e)}))]})},N=function(){return Array.from(Array(S.height),(function(){return new Array(S.width).fill([0,"clear"])}))},W=function(n,e,t){for(var o=t.x,r=t.y,c=0;c<n.tetromino.length;c+=1)for(var i=0;i<n.tetromino[c].length;i+=1)if(0!==n.tetromino[c][i]&&(!e[c+n.pos.y+r]||!e[c+n.pos.y+r][i+n.pos.x+o]||"clear"!==e[c+n.pos.y+r][i+n.pos.x+o][1]))return!0},Z={pos:{x:0,y:0},tetromino:E[0].shape,collided:!1},Y=t(6),B=function(n,e){var t=Object(g.useState)(N()),o=Object(w.a)(t,2),r=o[0],c=o[1],i=Object(g.useState)(0),a=Object(w.a)(i,2),s=a[0],l=a[1],u=Object(g.useState)({left:0,size:0}),f=Object(w.a)(u,2),d=f[0],p=f[1];return Object(g.useEffect)((function(){l(0);var t=function(t){var o=t.map((function(n){return n.map((function(n){return"clear"===n[1]?[0,"clear"]:n}))})),r=n.tetromino.map((function(n){var e=n.map((function(n,e){return 0!==n?e+1:0})).filter((function(n){return n>0}));return e.length>0?[Math.min.apply(Math,Object(Y.a)(e)),Math.max.apply(Math,Object(Y.a)(e))]:[]})).filter((function(n){return n.length>0})).flat();return p({left:n.pos.x+(Math.min.apply(Math,Object(Y.a)(r))-1),size:Math.max.apply(Math,Object(Y.a)(r))-Math.min.apply(Math,Object(Y.a)(r))+1}),n.tetromino.forEach((function(e,t){e.forEach((function(e,r){if(0!==e){var c=t+n.pos.y,i=r+n.pos.x;o[c][i]=[e,n.collided?"merged":"clear"]}}))})),n.collided?(e(),function(n){return n.reduce((function(e,t){return-1===t.findIndex((function(n){return 0===n[0]}))?(l((function(n){return n+1})),e.unshift(new Array(n[0].length).fill([0,"clear"])),e):(e.push(t),e)}),[])}(o)):o};c((function(n){return t(n)}))}),[n,e]),[r,c,s,d]},X=function(n,e){var t=Object(g.useRef)((function(){}));Object(g.useEffect)((function(){t.current=n})),Object(g.useEffect)((function(){if(null!==e){var n=setInterval((function(){return t.current()}),e||0);return function(){return clearInterval(n)}}}),[e])},H=z.a.div(u||(u=Object(k.a)(["\n    font-family: 'Press Start 2P', cursive;\n    border: 2px solid #000;\n    border-radius: 8px;\n    line-height: 50px;\n    font-size: 20px;\n    background: #fff;\n    margin-top: 20px;\n    color: #000;\n    padding: 0 20px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]))),K=z.a.button(f||(f=Object(k.a)(["\n    outline: none;\n    border: 2px solid #000;\n    border-radius: 8px;\n    line-height: 25px;\n    font-size: 20px;\n    padding: 20px;\n    background: #FFF;\n    font-family: inherit;\n\n    &:hover {\n        cursor: pointer;\n        box-shadow: 0 0 20px rgba(0,0,0,.2);\n    }\n"]))),_="1vw",q=z.a.div(d||(d=Object(k.a)(["\n    position: fixed;\n    display: flex;\n    width: 100%;\n    height: 100%;\n    justify-content: center;\n    align-items: center;\n    z-index: 99;\n    color: #000;\n    font-size: 60px;\n    font-size: 8vw;\n    display: flex;\n    flex-flow: column wrap;\n    font-family: 'Press Start 2P', cursive;\n    text-shadow: "," "," 0 #fff, "," 0 0 #fff, 0 "," 0 #fff, -"," "," 0 #fff, 00px 0 #fff,\n        0-"," 0 #fff, "," -"," 0 #fff, -"," -"," 0 #fff, 0 0 30px #000;\n"])),_,_,_,_,_,_,_,_,_,_,_),Q=z.a.div(p||(p=Object(k.a)(["\n    margin-right: 20px;\n    display: flex;\n    flex-flow: column wrap;\n    justify-content: flex-start;\n    align-items: stretch;\n"]))),V=z.a.div(b||(b=Object(k.a)(["\n    display: flex;\n    flex-flow: column wrap;\n"]))),$=z.a.div(x||(x=Object(k.a)(["\n    display: none;\n\n    @media (max-width: ","px) {\n        display: flex;\n    }\n\n    position: fixed;\n    top: ",";\n    height: 50px;\n    width: 100%;\n    z-index: 98;\n    justify-content: center;\n    align-items: stretch;\n"])),C.size*S.width+300,(function(){return"".concat(S.height*C.size-50,"px")})),nn=z.a.button(j||(j=Object(k.a)(["\n    display: flex;\n    outline: none;\n    border: none;\n    padding: 0;\n    flex-grow: 1;\n    justify-content: center;\n    background: rgba(255, 255, 255, 0.5);\n    padding: 20px;\n"]))),en=z.a.div(h||(h=Object(k.a)(["\n    outline: none;\n    display: flex;\n    flex-flow: row nowrap;\n    transform-style: preserve-3d;\n    transform: rotateX(",") rotateY(0deg) translateZ(0px);\n    filter: ",";\n    font-family: 'Press Start 2P', cursive;\n\n    // desktop size\n    @media (min-width: ","px) {\n        flex-flow: row nowrap;\n\n        "," {\n            width: 300px;\n        }\n    }\n\n    // mobile size\n    @media (max-width: ","px) {\n        flex-flow: column nowrap;\n        justify-content: center;\n        align-items: center;\n        padding-top: 10px;\n\n        "," {\n            font-size: 14px;\n            margin-top: 0;\n            padding: 8px;\n            line-height: 14px;\n            display: block;\n            border: 0;\n        }\n\n        "," {\n            margin: 0;\n            padding: 20px;\n            order: 2;\n\n            "," {\n                border: 2px solid #000;\n                border-radius: 8px;\n                flex-flow: row wrap;\n                margin: 10px 0;\n                background: #fff;\n            }\n        }\n    }\n"])),(function(n){var e=n.tilt;return"".concat(e,"deg")}),(function(n){return n.gameOver?"blur(5px)":"none"}),C.size*S.width+300,Q,C.size*S.width+300,H,Q,V),tn=z.a.input(O||(O=Object(k.a)(["\n    width: 100%;\n"]))),on=function(n){return Object(T.jsxs)($,{children:[Object(T.jsx)(nn,{onClick:function(){return n.onPushLeft()},children:"Left"}),Object(T.jsx)(nn,{onClick:function(){return n.onPushRotate()},children:"Rotate"}),Object(T.jsx)(nn,{onClick:function(){return n.onPushDown()},children:"Down"}),Object(T.jsx)(nn,{onClick:function(){return n.onPushRight()},children:"Right"})]})},rn=function(){var n=Object(g.useState)(0),e=Object(w.a)(n,2),t=e[0],o=e[1],r=Object(g.useState)(null),c=Object(w.a)(r,2),i=c[0],a=c[1],s=Object(g.useState)(!1),l=Object(w.a)(s,2),u=l[0],f=l[1],d=Object(g.useState)(!1),p=Object(w.a)(d,2),b=p[0],x=p[1],j=Object(g.useState)(!1),h=Object(w.a)(j,2),O=h[0],m=h[1],v=function(){var n=Object(g.useState)(Z),e=Object(w.a)(n,2),t=e[0],o=e[1],r=function(n,e){var t=n.map((function(e,t){return n.map((function(n){return n[t]}))}));return e>0?t.map((function(n){return n.reverse()})):t.reverse()},c=Object(g.useCallback)((function(){o({pos:{x:S.width/2-2,y:0},tetromino:P().shape,collided:!1})}),[]);return[t,function(n){var e=n.x,t=n.y,r=n.collided;o((function(n){return Object(y.a)(Object(y.a)({},n),{},{pos:{x:n.pos.x+=e,y:n.pos.y+=t},collided:r})}))},c,function(n,e){var c=JSON.parse(JSON.stringify(t));c.tetromino=r(c.tetromino,e);for(var i=c.pos.x,a=1;W(c,n,{x:0,y:0});)if(c.pos.x+=a,(a=-(a+(a>0?1:-1)))>c.tetromino[0].length)return r(c.tetromino,-e),void(c.pos.x=i);o(c)}]}(),k=Object(w.a)(v,4),z=k[0],C=k[1],E=k[2],L=k[3],I=B(z,E),R=Object(w.a)(I,4),M=R[0],U=R[1],A=R[2],G=R[3],D=function(n){var e=Object(g.useState)(0),t=Object(w.a)(e,2),o=t[0],r=t[1],c=Object(g.useState)(0),i=Object(w.a)(c,2),a=i[0],s=i[1],l=Object(g.useState)(0),u=Object(w.a)(l,2),f=u[0],d=u[1],p=[40,100,300,1200],b=Object(g.useCallback)((function(){n>0&&(r((function(e){return e+p[n-1]*(f+1)})),s((function(e){return e+n})))}),[f,p,n]);return Object(g.useEffect)((function(){b()}),[b,n,o]),[o,r,a,s,f,d]}(A),F=Object(w.a)(D,6),Y=F[0],_=F[1],$=F[2],nn=F[3],rn=F[4],cn=F[5],an=Object(g.useRef)(null),sn=function(n){fn("UNPAUSE"),W(z,M,{x:n,y:0})||C({x:n,y:0,collided:!1})},ln=function(){U(N()),a(1e3),E(),_(0),cn(0),nn(0),f(!1),m(!0)},un=function(n){$>10*(rn+1)&&(cn((function(n){return n+1})),a(1e3/(rn+1)+200));for(var e=0,t=1;t<=n&&!W(z,M,{x:0,y:t});t+=1)e=t;e===n?C({x:0,y:n,collided:!1}):(z.pos.y<1&&(m(!1),f(!0),a(null)),C({x:0,y:e,collided:!0}))},fn=function(n){switch(n){case"LEFT":sn(-1);break;case"RIGHT":sn(1);break;case"DOWN":a(null),un(1);break;case"FULLDOWN":a(null),un(S.height);break;case"ROTATE":L(M,1);break;case"TOGGLE_PAUSE":b?(x(!1),a(1e3/(rn+1))):(x(!0),a(null));break;case"UNPAUSE":x(!1),a(1e3/(rn+1))}};return X((function(){un(1)}),i),Object(T.jsxs)(T.Fragment,{children:[u&&Object(T.jsxs)(q,{children:[Object(T.jsx)("p",{children:"Game Over"}),Object(T.jsx)(K,{onClick:function(){var n;ln(),null===an||void 0===an||null===(n=an.current)||void 0===n||n.focus()},children:"Restart Game"})]}),Object(T.jsx)(on,{onPushLeft:function(){fn("LEFT")},onPushRotate:function(){fn("ROTATE")},onPushRight:function(){fn("RIGHT")},onPushDown:function(){fn("DOWN")}}),Object(T.jsxs)(en,{ref:an,tilt:t,gameOver:u,role:"button",tabIndex:0,onKeyUp:function(n){var e=n.keyCode;u||40!==e&&34!==e&&35!==e||fn("UNPAUSE")},onKeyDown:function(n){!function(n){var e=!0;if(!u)switch(n.keyCode){case 37:fn("LEFT");break;case 39:fn("RIGHT");break;case 40:fn("DOWN");break;case 38:fn("ROTATE");break;case 80:fn("TOGGLE_PAUSE");break;case 34:case 35:fn("FULLDOWN");break;default:console.log("Unused keystroke: ".concat(n.keyCode)),e=!1}e&&n.preventDefault()}(n)},children:[Object(T.jsxs)(Q,{children:[O?Object(T.jsx)(K,{onClick:function(){fn("TOGGLE_PAUSE")},children:b?"Continue...":"Pause Game"}):Object(T.jsx)(K,{onClick:function(){ln()},children:"Start Game"}),Object(T.jsxs)(V,{children:[Object(T.jsxs)(H,{children:["Score: ",Y]}),Object(T.jsxs)(H,{children:["Rows: ",$]}),Object(T.jsxs)(H,{children:["Level: ",rn]}),Object(T.jsxs)(H,{children:["Tilt:",Object(T.jsx)(tn,{type:"range",name:"volume",value:t,min:"0",max:"45",onChange:function(n){var e=n.target;o(parseInt(e.value))}})]})]})]}),Object(T.jsx)(J,{paused:b,stage:M,showInstructions:!O,activeColumns:G})]})]})};v.a.render(Object(T.jsx)(rn,{}),document.getElementById("tetris"))}},[[24,1,2]]]);
//# sourceMappingURL=main.fba5dab3.chunk.js.map