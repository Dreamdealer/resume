(this["webpackJsonpJohans-Resume-Website"]=this["webpackJsonpJohans-Resume-Website"]||[]).push([[0],{21:function(n,e,t){"use strict";t.r(e);var r,o,c,a,i,s,l,u,f,p,b=t(0),d=t(10),x=t.n(d),j=t(3),h=t(4),O=t(2),g={width:8,height:16,backgroundColor:"transparent",lineColor:"#000"},m={size:38,spacing:0},v={0:{shape:[[0]],color:"0, 0, 0"},I:{shape:[[0,"I",0,0],[0,"I",0,0],[0,"I",0,0],[0,"I",0,0]],color:"#EBA83A"},J:{shape:[[0,"J",0],[0,"J",0],["J","J",0]],color:"#E4BAD4"},L:{shape:[[0,"L",0],[0,"L",0],[0,"L","L"]],color:"#FFC074"},O:{shape:[["O","O"],["O","O"]],color:"#FAEBE0"},S:{shape:[[0,"S","S"],["S","S",0],[0,0,0]],color:"#F7E6AD"},T:{shape:[[0,0,0],["T","T","T"],[0,"T",0]],color:"#C9D8B6"},Z:{shape:[["Z","Z",0],[0,"Z","Z"],[0,0,0]],color:"#F1ECC3"}},y=function(){var n="IJLOSTZ",e=n[Math.floor(Math.random()*n.length)];return v[e]},w=t(1),k=h.a.div(r||(r=Object(j.a)(["\n    width: ","px;\n    height: ","px;\n    position: relative;\n    transform-style: preserve-3d;\n    transform:  translateX(","px) translateY(","px) translateZ(","px);\n    transition: transform 1s;\n    \n    ","\n"])),m.size,m.size,m.spacing/2,m.spacing/2,m.size,(function(n){return!n.transparent&&"\n        &::after {\n            content: '';\n            position: absolute;\n            width: ".concat(m.size,"px;\n            height: ").concat(m.size,"px;\n            background: rgba(0,0,0,.1);\n            box-shadow: 0 0 10px rgba(0,0,0,.1);\n            transform: translateZ(-").concat(m.size,"px);\n        }\n    ")})),z=h.a.div(o||(o=Object(j.a)(["\n    position: absolute;\n    width: ","px;\n    height: ","px;\n    background: ",";\n    line-height: ","px;\n    font-size: 40px;\n    font-weight: bold;\n    color: white;\n    text-align: center;\n    box-shadow: 0 0 0 1px rgba(0,0,0,.1) inset;\n    transform: ",";\n"])),m.size-2*m.spacing,m.size-2*m.spacing,(function(n){return n.color}),m.size,(function(n){var e=n.face;return"".concat(function(n){switch(n){case"right":return"rotateY(90deg)";case"back":return"rotateY(180deg)";case"left":return"rotateY(-90deg)";case"top":return"rotateX(90deg)";case"bottom":return"rotateX(-90deg)";default:case"front":return"rotateY(0deg)"}}(e)," translateZ(").concat(m.size/2-m.spacing,"px)")})),S=function(n){return"transparent"===n.color?Object(w.jsx)(k,{transparent:!0}):Object(w.jsxs)(k,{children:[Object(w.jsx)(z,{face:"front",color:n.color}),Object(w.jsx)(z,{face:"back",color:n.color}),Object(w.jsx)(z,{face:"right",color:n.color}),Object(w.jsx)(z,{face:"left",color:n.color}),Object(w.jsx)(z,{face:"top",color:n.color}),Object(w.jsx)(z,{face:"bottom",color:n.color})]})},C=h.a.div(c||(c=Object(j.a)(["\n    width: ",";\n    height: ",";\n    display: flex;\n    flex-flow: column nowrap;\n    justify-content: flex-end;\n    align-items: flex-end;\n    background: ",";\n    background-image: \n        linear-gradient("," 1px, transparent 1px),\n        linear-gradient(90deg, "," 1px, transparent 1px);\n    background-size: ","px ","px, ","px ","px;\n    background-position: -1px -1px, -1px -1px;\n    box-shadow: 0 0 0 1px "," inset;\n"])),(function(){return"".concat(g.width*m.size,"px")}),(function(){return"".concat(g.height*m.size,"px")}),g.backgroundColor,g.lineColor,g.lineColor,m.size,m.size,m.size,m.size,g.lineColor),E=h.a.div(a||(a=Object(j.a)(["\n    display: flex;\n    height: ","px;\n    width: 100%;\n"])),m.size),I=function(n){return Object(w.jsx)(C,{children:n.stage.map((function(n,e){return Object(w.jsx)(E,{children:n.map((function(n,t){var r=Object(O.a)(n,2),o=r[0];r[1];return Object(w.jsx)(S,{color:0===o?"transparent":v[o].color},e+t)}))},e)}))})},J=t(9),F=function(){return Array.from(Array(g.height),(function(){return new Array(g.width).fill([0,"clear"])}))},A=function(n,e,t){for(var r=t.x,o=t.y,c=0;c<n.tetromino.length;c+=1)for(var a=0;a<n.tetromino[c].length;a+=1)if(0!==n.tetromino[c][a]&&(!e[c+n.pos.y+o]||!e[c+n.pos.y+o][a+n.pos.x+r]||"clear"!==e[c+n.pos.y+o][a+n.pos.x+r][1]))return!0},Z={pos:{x:0,y:0},tetromino:v[0].shape,collided:!1},L=function(n,e){var t=Object(b.useState)(F()),r=Object(O.a)(t,2),o=r[0],c=r[1],a=Object(b.useState)(0),i=Object(O.a)(a,2),s=i[0],l=i[1];return Object(b.useEffect)((function(){l(0);var t=function(t){var r=t.map((function(n){return n.map((function(n){return"clear"===n[1]?[0,"clear"]:n}))}));return n.tetromino.forEach((function(e,t){e.forEach((function(e,o){if(0!==e){var c=t+n.pos.y,a=o+n.pos.x;r[c][a]=[e,n.collided?"merged":"clear"]}}))})),n.collided?(e(),function(n){return n.reduce((function(e,t){return-1===t.findIndex((function(n){return 0===n[0]}))?(l((function(n){return n+1})),e.unshift(new Array(n[0].length).fill([0,"clear"])),e):(e.push(t),e)}),[])}(r)):r};c((function(n){return t(n)}))}),[n,e]),[o,c,s]},T=function(n,e){var t=Object(b.useRef)((function(){}));Object(b.useEffect)((function(){t.current=n})),Object(b.useEffect)((function(){if(null!==e){var n=setInterval((function(){return t.current()}),e||0);return function(){return clearInterval(n)}}}),[e])},Y=h.a.div(i||(i=Object(j.a)(["\n    height: 100vh;\n    outline: none;\n    display: flex;\n    flex-flow: row nowrap;\n    transform-style: preserve-3d;\n    transform: rotateX(35deg) rotateY(0deg) translateZ(100px);\n"]))),B=h.a.div(s||(s=Object(j.a)(["\n    width: 200px;\n    margin-right: 20px;\n    display: flex;\n    flex-flow: column wrap;\n    justify-content: flex-start;\n    align-items: stretch;\n"]))),D=h.a.div(l||(l=Object(j.a)(["\n    border: 2px solid #000;\n    border-radius: 8px;\n    line-height: 40px;\n    font-size: 20px;\n    background: #FFF;\n    margin-top: 20px;\n    color: #000;\n    text-align: center;\n"]))),R=h.a.button(u||(u=Object(j.a)(["\n    outline: none;\n    border: 2px solid #000;\n    border-radius: 8px;\n    line-height: 40px;\n    font-size: 20px;\n    background: #FFF;\n\n    &:hover {\n        cursor: pointer;\n        box-shadow: 0 0 20px rgba(0,0,0,.2);\n    }\n"]))),G=function(){var n=Object(b.useState)(null),e=Object(O.a)(n,2),t=e[0],r=e[1],o=Object(b.useState)(!1),c=Object(O.a)(o,2),a=c[0],i=c[1],s=Object(b.useState)(!1),l=Object(O.a)(s,2),u=l[0],f=l[1],p=Object(b.useState)(!1),d=Object(O.a)(p,2),x=d[0],j=d[1],h=function(){var n=Object(b.useState)(Z),e=Object(O.a)(n,2),t=e[0],r=e[1],o=function(n,e){var t=n.map((function(e,t){return n.map((function(n){return n[t]}))}));return e>0?t.map((function(n){return n.reverse()})):t.reverse()},c=Object(b.useCallback)((function(){r({pos:{x:g.width/2-2,y:0},tetromino:y().shape,collided:!1})}),[]);return[t,function(n){var e=n.x,t=n.y,o=n.collided;r((function(n){return Object(J.a)(Object(J.a)({},n),{},{pos:{x:n.pos.x+=e,y:n.pos.y+=t},collided:o})}))},c,function(n,e){var c=JSON.parse(JSON.stringify(t));c.tetromino=o(c.tetromino,e);for(var a=c.pos.x,i=1;A(c,n,{x:0,y:0});)if(c.pos.x+=i,(i=-(i+(i>0?1:-1)))>c.tetromino[0].length)return o(c.tetromino,-e),void(c.pos.x=a);r(c)}]}(),m=Object(O.a)(h,4),v=m[0],k=m[1],z=m[2],S=m[3],C=L(v,z),E=Object(O.a)(C,3),G=E[0],X=E[1],M=function(n){var e=Object(b.useState)(0),t=Object(O.a)(e,2),r=t[0],o=t[1],c=Object(b.useState)(0),a=Object(O.a)(c,2),i=a[0],s=a[1],l=Object(b.useState)(0),u=Object(O.a)(l,2),f=u[0],p=u[1],d=[40,100,300,1200],x=Object(b.useCallback)((function(){n>0&&(o((function(e){return e+d[n-1]*(f+1)})),s((function(e){return e+n})))}),[f,d,n]);return Object(b.useEffect)((function(){x()}),[x,n,r]),[r,o,i,s,f,p]}(E[2]),K=Object(O.a)(M,6),N=K[0],U=K[1],W=K[2],P=K[3],V=K[4],q=K[5],H=function(n){A(v,G,{x:n,y:0})||k({x:n,y:0,collided:!1})},Q=function(){W>10*(V+1)&&(q((function(n){return n+1})),r(1e3/(V+1)+200)),A(v,G,{x:0,y:1})?(v.pos.y<1&&(console.log("GAME OVER"),i(!0),r(null)),k({x:0,y:0,collided:!0})):k({x:0,y:1,collided:!1})},$=function(n){var e=n.keyCode;if(!a)switch(e){case 37:H(-1);break;case 39:H(1);break;case 40:r(null),Q();break;case 38:S(G,1)}};return T((function(){Q()}),t),Object(w.jsxs)(Y,{role:"button",tabIndex:0,onKeyUp:function(n){var e=n.keyCode;a||40!==e||r(1e3/(V+1))},onKeyDown:function(n){$(n),n.preventDefault()},children:[Object(w.jsxs)(B,{children:[x?Object(w.jsx)(R,{onClick:function(){u?(f(!1),r(1e3/(V+1))):(f(!0),r(null))},children:u?"Continue Game":"Pause Game"}):Object(w.jsx)(R,{onClick:function(){X(F()),r(1e3),z(),U(0),q(0),P(0),i(!1),j(!0)},children:"Start Game"}),Object(w.jsxs)(D,{children:["Score: ",N]}),Object(w.jsxs)(D,{children:["Rows: ",W]}),Object(w.jsxs)(D,{children:["Level: ",V]})]}),Object(w.jsx)(I,{stage:G})]})},X=h.a.div(f||(f=Object(j.a)(["\n    margin: 0;\n    font-family: 'Segoe UI', sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    color: #db7093;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    perspective: 1000px;\n"]))),M=(h.a.div(p||(p=Object(j.a)(["\n    font-size: calc(10px + 2vmin);\n"]))),function(){return Object(w.jsx)(X,{children:Object(w.jsx)(G,{})})});x.a.render(Object(w.jsx)(M,{}),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.f2bc731d.chunk.js.map