(this["webpackJsonpJohans-Resume-Website"]=this["webpackJsonpJohans-Resume-Website"]||[]).push([[0],{21:function(n,e,t){"use strict";t.r(e);var o,r,c,a,i,s,l,u,f,b,p,d,x=t(0),j=t(10),h=t.n(j),O=t(3),g=t(4),m=t(2),v={width:10,height:20,backgroundColor:"#FFF",lineColor:"#BBB"},y={size:38,spacing:0},w={0:{shape:[[0]],color:"0, 0, 0"},I:{shape:[[0,"I",0,0],[0,"I",0,0],[0,"I",0,0],[0,"I",0,0]],color:"#9cdaff"},J:{shape:[[0,"J",0],[0,"J",0],["J","J",0]],color:"#c568a5"},L:{shape:[[0,"L",0],[0,"L",0],[0,"L","L"]],color:"#ffd265"},O:{shape:[["O","O"],["O","O"]],color:"#bcff7c"},S:{shape:[[0,"S","S"],["S","S",0],[0,0,0]],color:"#cd94ff"},T:{shape:[[0,0,0],["T","T","T"],[0,"T",0]],color:"#8aedeb"},Z:{shape:[["Z","Z",0],[0,"Z","Z"],[0,0,0]],color:"#dea6ec"}},k=function(){var n="IJLOSTZ",e=n[Math.floor(Math.random()*n.length)];return w[e]},z=t(1),S=g.a.div(o||(o=Object(O.a)(["\n    width: ","px;\n    height: ","px;\n    position: relative;\n    transform-style: preserve-3d;\n    transform:  translateX(","px) translateY(","px) translateZ(","px);\n    transition: transform 1s;\n    \n    ","\n"])),y.size,y.size,y.spacing/2,y.spacing/2,y.size,(function(n){return!n.transparent&&"\n        &::after {\n            content: '';\n            position: absolute;\n            width: ".concat(y.size,"px;\n            height: ").concat(y.size,"px;\n            background: rgba(0,0,0,.1);\n            box-shadow: 0 0 10px rgba(0,0,0,.1);\n            transform: translateZ(-").concat(y.size,"px);\n        }\n    ")})),C=g.a.div(r||(r=Object(O.a)(["\n    position: absolute;\n    width: ","px;\n    height: ","px;\n    background: ",";\n    line-height: ","px;\n    font-size: 40px;\n    font-weight: bold;\n    color: white;\n    text-align: center;\n    box-shadow: 0 0 0 1px rgba(0,0,0,.1) inset;\n    transform: ",";\n"])),y.size-2*y.spacing,y.size-2*y.spacing,(function(n){return n.color}),y.size,(function(n){var e=n.face;return"".concat(function(n){switch(n){case"right":return"rotateY(90deg)";case"back":return"rotateY(180deg)";case"left":return"rotateY(-90deg)";case"top":return"rotateX(90deg)";case"bottom":return"rotateX(-90deg)";default:case"front":return"rotateY(0deg)"}}(e)," translateZ(").concat(y.size/2-y.spacing,"px)")})),I=function(n){return"transparent"===n.color?Object(z.jsx)(S,{transparent:!0}):Object(z.jsxs)(S,{children:[Object(z.jsx)(C,{face:"front",color:n.color}),Object(z.jsx)(C,{face:"back",color:n.color}),Object(z.jsx)(C,{face:"right",color:n.color}),Object(z.jsx)(C,{face:"left",color:n.color}),Object(z.jsx)(C,{face:"top",color:n.color}),Object(z.jsx)(C,{face:"bottom",color:n.color})]})},J=g.a.div(c||(c=Object(O.a)(["\n    width: ",";\n    height: ",";\n    display: flex;\n    flex-flow: column nowrap;\n    justify-content: flex-end;\n    align-items: flex-end;\n    background: ",";\n    background-image: \n        linear-gradient("," 1px, transparent 1px),\n        linear-gradient(90deg, "," 1px, transparent 1px);\n    background-size: ","px ","px, ","px ","px;\n    background-position: -1px -1px, -1px -1px;\n    box-shadow: 0 0 0 1px "," inset;\n    border: 2px solid #000;\n    border-radius: 8px;\n    position: relative;\n"])),(function(){return"".concat(v.width*y.size,"px")}),(function(){return"".concat(v.height*y.size,"px")}),v.backgroundColor,v.lineColor,v.lineColor,y.size,y.size,y.size,y.size,v.lineColor),F=g.a.div(a||(a=Object(O.a)(["\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    color: #000;\n    padding: 20px;\n"]))),Z=g.a.div(i||(i=Object(O.a)(["\n    display: flex;\n    height: ","px;\n    width: 100%;\n"])),y.size),E=function(n){return Object(z.jsxs)(J,{children:[n.showInstructions&&Object(z.jsxs)(F,{children:["Keybindings:",Object(z.jsx)("br",{}),Object(z.jsx)("br",{}),"Up = Rotate tetromino",Object(z.jsx)("br",{}),Object(z.jsx)("br",{}),"Left = Move tetromino left one cell",Object(z.jsx)("br",{}),Object(z.jsx)("br",{}),"Right = Move tetromino right one cell",Object(z.jsx)("br",{}),Object(z.jsx)("br",{}),"Down = Move tetromino down one cell",Object(z.jsx)("br",{}),Object(z.jsx)("br",{}),"PageDown or End = Move tetromino all the way down"]}),n.stage.map((function(n,e){return Object(z.jsx)(Z,{children:n.map((function(n,t){var o=Object(m.a)(n,2),r=o[0];o[1];return Object(z.jsx)(I,{color:0===r?"transparent":w[r].color},e+t)}))},e)}))]})},L=t(9),R=function(){return Array.from(Array(v.height),(function(){return new Array(v.width).fill([0,"clear"])}))},M=function(n,e,t){for(var o=t.x,r=t.y,c=0;c<n.tetromino.length;c+=1)for(var a=0;a<n.tetromino[c].length;a+=1)if(0!==n.tetromino[c][a]&&(!e[c+n.pos.y+r]||!e[c+n.pos.y+r][a+n.pos.x+o]||"clear"!==e[c+n.pos.y+r][a+n.pos.x+o][1]))return!0},P={pos:{x:0,y:0},tetromino:w[0].shape,collided:!1},T=function(n,e){var t=Object(x.useState)(R()),o=Object(m.a)(t,2),r=o[0],c=o[1],a=Object(x.useState)(0),i=Object(m.a)(a,2),s=i[0],l=i[1];return Object(x.useEffect)((function(){l(0);var t=function(t){var o=t.map((function(n){return n.map((function(n){return"clear"===n[1]?[0,"clear"]:n}))}));return n.tetromino.forEach((function(e,t){e.forEach((function(e,r){if(0!==e){var c=t+n.pos.y,a=r+n.pos.x;o[c][a]=[e,n.collided?"merged":"clear"]}}))})),n.collided?(e(),function(n){return n.reduce((function(e,t){return-1===t.findIndex((function(n){return 0===n[0]}))?(l((function(n){return n+1})),e.unshift(new Array(n[0].length).fill([0,"clear"])),e):(e.push(t),e)}),[])}(o)):o};c((function(n){return t(n)}))}),[n,e]),[r,c,s]},Y=function(n,e){var t=Object(x.useRef)((function(){}));Object(x.useEffect)((function(){t.current=n})),Object(x.useEffect)((function(){if(null!==e){var n=setInterval((function(){return t.current()}),e||0);return function(){return clearInterval(n)}}}),[e])},G=g.a.div(s||(s=Object(O.a)(["\n    font-family: 'Press Start 2P', cursive;\n    border: 2px solid #000;\n    border-radius: 8px;\n    line-height: 50px;\n    font-size: 20px;\n    background: #FFF;\n    margin-top: 20px;\n    color: #000;\n    padding: 0 20px;\n"]))),A=function(n){return Object(z.jsx)(G,{children:n.text})},B=g.a.button(l||(l=Object(O.a)(["\n    outline: none;\n    border: 2px solid #000;\n    border-radius: 8px;\n    line-height: 50px;\n    font-size: 20px;\n    padding: 0 20px;\n    background: #FFF;\n    font-family: inherit;\n\n    &:hover {\n        cursor: pointer;\n        box-shadow: 0 0 20px rgba(0,0,0,.2);\n    }\n"]))),D=g.a.div(u||(u=Object(O.a)(["\n    height: 100vh;\n    outline: none;\n    display: flex;\n    flex-flow: row nowrap;\n    transform-style: preserve-3d;\n    transform: rotateX(35deg) rotateY(0deg) translateZ(100px);\n    filter: ",";\n    font-family: 'Press Start 2P', cursive;\n"])),(function(n){return n.gameOver?"blur(5px)":"none"})),U=g.a.div(f||(f=Object(O.a)(["\n    width: 300px;\n    margin-right: 20px;\n    display: flex;\n    flex-flow: column wrap;\n    justify-content: flex-start;\n    align-items: stretch;\n"]))),X=g.a.div(b||(b=Object(O.a)(["\n    position: fixed;\n    display: flex;\n    width: 100%;\n    height: 100%;\n    justify-content: center;\n    align-items: center;\n    z-index: 99;\n    color: #000;\n    font-size: 60px;\n    font-size: 8vw;\n    display: flex;\n    flex-flow: column wrap;\n"]))),K=function(){var n=Object(x.useState)(null),e=Object(m.a)(n,2),t=e[0],o=e[1],r=Object(x.useState)(!1),c=Object(m.a)(r,2),a=c[0],i=c[1],s=Object(x.useState)(!1),l=Object(m.a)(s,2),u=l[0],f=l[1],b=Object(x.useState)(!1),p=Object(m.a)(b,2),d=p[0],j=p[1],h=function(){var n=Object(x.useState)(P),e=Object(m.a)(n,2),t=e[0],o=e[1],r=function(n,e){var t=n.map((function(e,t){return n.map((function(n){return n[t]}))}));return e>0?t.map((function(n){return n.reverse()})):t.reverse()},c=Object(x.useCallback)((function(){o({pos:{x:v.width/2-2,y:0},tetromino:k().shape,collided:!1})}),[]);return[t,function(n){var e=n.x,t=n.y,r=n.collided;o((function(n){return Object(L.a)(Object(L.a)({},n),{},{pos:{x:n.pos.x+=e,y:n.pos.y+=t},collided:r})}))},c,function(n,e){var c=JSON.parse(JSON.stringify(t));c.tetromino=r(c.tetromino,e);for(var a=c.pos.x,i=1;M(c,n,{x:0,y:0});)if(c.pos.x+=i,(i=-(i+(i>0?1:-1)))>c.tetromino[0].length)return r(c.tetromino,-e),void(c.pos.x=a);o(c)}]}(),O=Object(m.a)(h,4),g=O[0],y=O[1],w=O[2],S=O[3],C=T(g,w),I=Object(m.a)(C,3),J=I[0],F=I[1],Z=function(n){var e=Object(x.useState)(0),t=Object(m.a)(e,2),o=t[0],r=t[1],c=Object(x.useState)(0),a=Object(m.a)(c,2),i=a[0],s=a[1],l=Object(x.useState)(0),u=Object(m.a)(l,2),f=u[0],b=u[1],p=[40,100,300,1200],d=Object(x.useCallback)((function(){n>0&&(r((function(e){return e+p[n-1]*(f+1)})),s((function(e){return e+n})))}),[f,p,n]);return Object(x.useEffect)((function(){d()}),[d,n,o]),[o,r,i,s,f,b]}(I[2]),G=Object(m.a)(Z,6),K=G[0],N=G[1],W=G[2],q=G[3],H=G[4],Q=G[5],V=function(n){nn(),M(g,J,{x:n,y:0})||y({x:n,y:0,collided:!1})},$=function(){F(R()),o(1e3),w(),N(0),Q(0),q(0),i(!1),j(!0)},_=function(n){W>10*(H+1)&&(Q((function(n){return n+1})),o(1e3/(H+1)+200));for(var e=0,t=1;t<=n&&!M(g,J,{x:0,y:t});t+=1)e=t;e===n?y({x:0,y:n,collided:!1}):(g.pos.y<1&&(j(!1),i(!0),o(null)),y({x:0,y:e,collided:!0}))},nn=function(){f(!1),o(1e3/(H+1))},en=function(n){var e=n.keyCode;if(!a)switch(e){case 37:V(-1);break;case 39:V(1);break;case 40:o(null),_(1);break;case 38:S(J,1);break;case 34:case 35:o(null),_(v.height);break;default:console.log("Unused keystroke: ".concat(e))}};return Y((function(){_(1)}),t),Object(z.jsxs)(z.Fragment,{children:[a&&Object(z.jsxs)(X,{children:[Object(z.jsx)("p",{children:"Game Over"}),Object(z.jsx)(B,{onClick:function(){$()},children:"Restart Game"})]}),Object(z.jsxs)(D,{gameOver:a,role:"button",tabIndex:0,onKeyUp:function(n){var e=n.keyCode;a||40!==e&&34!==e&&35!==e||nn()},onKeyDown:function(n){en(n),n.preventDefault()},children:[Object(z.jsxs)(U,{children:[d?Object(z.jsx)(B,{onClick:function(){u?nn():(f(!0),o(null))},children:u?"Continue Game":"Pause Game"}):Object(z.jsx)(B,{onClick:function(){$()},children:"Start Game"}),Object(z.jsx)(A,{text:"Score: ".concat(K)}),Object(z.jsx)(A,{text:"Rows: ".concat(W)}),Object(z.jsx)(A,{text:"Level: ".concat(H)})]}),Object(z.jsx)(E,{stage:J,showInstructions:!d})]})]})},N=g.a.div(p||(p=Object(O.a)(["\n    margin: 0;\n    font-family: 'Segoe UI', sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    color: #db7093;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    perspective: 1000px;\n"]))),W=(g.a.div(d||(d=Object(O.a)(["\n    font-size: calc(10px + 2vmin);\n"]))),function(){return Object(z.jsx)(N,{children:Object(z.jsx)(K,{})})});h.a.render(Object(z.jsx)(W,{}),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.47996879.chunk.js.map