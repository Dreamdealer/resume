(this["webpackJsonpJohans-Resume-Website"]=this["webpackJsonpJohans-Resume-Website"]||[]).push([[0],{21:function(n,e,t){"use strict";t.r(e);var r,o,c,a,i,s,l,u=t(0),f=t(10),p=t.n(f),d=t(3),x=t(4),b=t(2),h={width:12,height:16,backgroundColor:"transparent",lineColor:"#000"},j={size:38,spacing:0},g={0:{shape:[[0]],color:"0, 0, 0"},I:{shape:[[0,"I",0,0],[0,"I",0,0],[0,"I",0,0],[0,"I",0,0]],color:"#EBA83A"},J:{shape:[[0,"J",0],[0,"J",0],["J","J",0]],color:"#E4BAD4"},L:{shape:[[0,"L",0],[0,"L",0],[0,"L","L"]],color:"#FFC074"},O:{shape:[["O","O"],["O","O"]],color:"#FAEBE0"},S:{shape:[[0,"S","S"],["S","S",0],[0,0,0]],color:"#F7E6AD"},T:{shape:[[0,0,0],["T","T","T"],[0,"T",0]],color:"#C9D8B6"},Z:{shape:[["Z","Z",0],[0,"Z","Z"],[0,0,0]],color:"#F1ECC3"}},O=function(){var n="IJLOSTZ",e=n[Math.floor(Math.random()*n.length)];return g[e]},m=t(1),v=x.a.div(r||(r=Object(d.a)(["\n    width: ","px;\n    height: ","px;\n    position: relative;\n    transform-style: preserve-3d;\n    transform:  translateX(","px) translateY(","px) translateZ(","px);\n    transition: transform 1s;\n    \n    ","\n"])),j.size,j.size,j.spacing/2,j.spacing/2,j.size,(function(n){return!n.transparent&&"\n        &::after {\n            content: '';\n            position: absolute;\n            width: ".concat(j.size,"px;\n            height: ").concat(j.size,"px;\n            background: rgba(0,0,0,.1);\n            box-shadow: 0 0 10px rgba(0,0,0,.1);\n            transform: translateZ(-").concat(j.size,"px);\n        }\n    ")})),y=x.a.div(o||(o=Object(d.a)(["\n    position: absolute;\n    width: ","px;\n    height: ","px;\n    background: ",";\n    line-height: ","px;\n    font-size: 40px;\n    font-weight: bold;\n    color: white;\n    text-align: center;\n    box-shadow: 0 0 0 1px rgba(0,0,0,.1) inset;\n    transform: ",";\n"])),j.size-2*j.spacing,j.size-2*j.spacing,(function(n){return n.color}),j.size,(function(n){var e=n.face;return"".concat(function(n){switch(n){case"right":return"rotateY(90deg)";case"back":return"rotateY(180deg)";case"left":return"rotateY(-90deg)";case"top":return"rotateX(90deg)";case"bottom":return"rotateX(-90deg)";default:case"front":return"rotateY(0deg)"}}(e)," translateZ(").concat(j.size/2-j.spacing,"px)")})),w=function(n){return"transparent"===n.color?Object(m.jsx)(v,{transparent:!0}):Object(m.jsxs)(v,{children:[Object(m.jsx)(y,{face:"front",color:n.color}),Object(m.jsx)(y,{face:"back",color:n.color}),Object(m.jsx)(y,{face:"right",color:n.color}),Object(m.jsx)(y,{face:"left",color:n.color}),Object(m.jsx)(y,{face:"top",color:n.color}),Object(m.jsx)(y,{face:"bottom",color:n.color})]})},z=x.a.div(c||(c=Object(d.a)(["\n    width: ",";\n    height: ",";\n    display: flex;\n    flex-flow: column nowrap;\n    justify-content: flex-end;\n    align-items: flex-end;\n    transform-style: preserve-3d;\n    transform: rotateX(35deg) rotateY(0deg) translateZ(100px);\n    background: ",";\n    background-image: \n        linear-gradient("," 1px, transparent 1px),\n        linear-gradient(90deg, "," 1px, transparent 1px);\n    background-size: ","px ","px, ","px ","px;\n    background-position: -1px -1px, -1px -1px;\n    box-shadow: 0 0 0 1px "," inset;\n"])),(function(){return"".concat(h.width*j.size,"px")}),(function(){return"".concat(h.height*j.size,"px")}),h.backgroundColor,h.lineColor,h.lineColor,j.size,j.size,j.size,j.size,h.lineColor),k=x.a.div(a||(a=Object(d.a)(["\n    display: flex;\n    height: ","px;\n    width: 100%;\n"])),j.size),S=function(n){return Object(m.jsx)(z,{children:n.stage.map((function(n,e){return Object(m.jsx)(k,{children:n.map((function(n,t){var r=Object(b.a)(n,2),o=r[0];r[1];return Object(m.jsx)(w,{color:0===o?"transparent":g[o].color},e+t)}))},e)}))})},C=t(9),E=function(){return Array.from(Array(h.height),(function(){return new Array(h.width).fill([0,"clear"])}))},I=function(n,e,t){for(var r=t.x,o=t.y,c=0;c<n.tetromino.length;c+=1)for(var a=0;a<n.tetromino[c].length;a+=1)if(0!==n.tetromino[c][a]&&(!e[c+n.pos.y+o]||!e[c+n.pos.y+o][a+n.pos.x+r]||"clear"!==e[c+n.pos.y+o][a+n.pos.x+r][1]))return!0},J={pos:{x:0,y:0},tetromino:g[0].shape,collided:!1},A=function(n,e){var t=Object(u.useState)(E()),r=Object(b.a)(t,2),o=r[0],c=r[1],a=Object(u.useState)(0),i=Object(b.a)(a,2),s=i[0],l=i[1];return Object(u.useEffect)((function(){l(0);var t=function(t){var r=t.map((function(n){return n.map((function(n){return"clear"===n[1]?[0,"clear"]:n}))}));return n.tetromino.forEach((function(e,t){e.forEach((function(e,o){if(0!==e){var c=t+n.pos.y,a=o+n.pos.x;r[c][a]=[e,n.collided?"merged":"clear"]}}))})),n.collided?(e(),function(n){return n.reduce((function(e,t){return-1===t.findIndex((function(n){return 0===n[0]}))?(l((function(n){return n+1})),e.unshift(new Array(n[0].length).fill([0,"clear"])),e):(e.push(t),e)}),[])}(r)):r};c((function(n){return t(n)}))}),[n,e]),[o,c,s]},Z=function(n,e){var t=Object(u.useRef)((function(){}));Object(u.useEffect)((function(){t.current=n})),Object(u.useEffect)((function(){if(null!==e){var n=setInterval((function(){return t.current()}),e||0);return function(){return clearInterval(n)}}}),[e])},L=x.a.div(i||(i=Object(d.a)(["\n    height: 100vh;\n    outline: none;\n"]))),T=function(){var n=Object(u.useState)(null),e=Object(b.a)(n,2),t=e[0],r=e[1],o=Object(u.useState)(!1),c=Object(b.a)(o,2),a=c[0],i=c[1],s=function(){var n=Object(u.useState)(J),e=Object(b.a)(n,2),t=e[0],r=e[1],o=function(n,e){var t=n.map((function(e,t){return n.map((function(n){return n[t]}))}));return e>0?t.map((function(n){return n.reverse()})):t.reverse()},c=Object(u.useCallback)((function(){r({pos:{x:h.width/2-2,y:0},tetromino:O().shape,collided:!1})}),[]);return[t,function(n){var e=n.x,t=n.y,o=n.collided;r((function(n){return Object(C.a)(Object(C.a)({},n),{},{pos:{x:n.pos.x+=e,y:n.pos.y+=t},collided:o})}))},c,function(n,e){var c=JSON.parse(JSON.stringify(t));c.tetromino=o(c.tetromino,e);for(var a=c.pos.x,i=1;I(c,n,{x:0,y:0});)if(c.pos.x+=i,(i=-(i+(i>0?1:-1)))>c.tetromino[0].length)return o(c.tetromino,-e),void(c.pos.x=a);r(c)}]}(),l=Object(b.a)(s,4),f=l[0],p=l[1],d=l[2],x=l[3],j=A(f,d),g=Object(b.a)(j,2),v=g[0],y=g[1],w=function(n){I(f,v,{x:n,y:0})||p({x:n,y:0,collided:!1})},z=function(){I(f,v,{x:0,y:1})?(f.pos.y<1&&(console.log("GAME OVER"),i(!0),r(null)),p({x:0,y:0,collided:!0})):p({x:0,y:1,collided:!1})},k=function(n){var e=n.keyCode;if(!a)switch(e){case 37:w(-1);break;case 39:w(1);break;case 40:r(null),z();break;case 38:x(v,1)}};return Z((function(){z()}),t),Object(m.jsxs)(L,{role:"button",tabIndex:0,onKeyUp:function(n){var e=n.keyCode;a||40!==e||r(1e3)},onKeyDown:function(n){k(n),n.preventDefault()},children:[Object(m.jsx)("button",{onClick:function(){y(E()),r(1e3),d(),i(!1)},children:"Start Game"}),Object(m.jsx)(S,{stage:v})]})},Y=x.a.div(s||(s=Object(d.a)(["\n    margin: 0;\n    font-family: 'Segoe UI', sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    color: #db7093;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    perspective: 1000px;\n"]))),B=(x.a.div(l||(l=Object(d.a)(["\n    font-size: calc(10px + 2vmin);\n"]))),function(){return Object(m.jsx)(Y,{children:Object(m.jsx)(T,{})})});p.a.render(Object(m.jsx)(B,{}),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.249889eb.chunk.js.map