(this["webpackJsonpJohans-Resume-Website"]=this["webpackJsonpJohans-Resume-Website"]||[]).push([[0],{24:function(n,e,t){"use strict";t.r(e);var o,r,c,a,i,s,l,u,f,p,d,b,x,j,h=t(0),O=t(13),g=t.n(O),m=t(4),v=t(2),w=t(5),y=t(3),z={width:10,height:20,backgroundColor:"#FFF",lineColor:"#BBB",guideColor:"rgba(0,0,0,.05)"},k={size:32,spacing:0},S={0:{shape:[[0]],color:"0, 0, 0"},I:{shape:[[0,"I",0,0],[0,"I",0,0],[0,"I",0,0],[0,"I",0,0]],color:"#9cdaff"},J:{shape:[[0,"J",0],[0,"J",0],["J","J",0]],color:"#c568a5"},L:{shape:[[0,"L",0],[0,"L",0],[0,"L","L"]],color:"#ffd265"},O:{shape:[["O","O"],["O","O"]],color:"#bcff7c"},S:{shape:[[0,"S","S"],["S","S",0],[0,0,0]],color:"#cd94ff"},T:{shape:[[0,0,0],["T","T","T"],[0,"T",0]],color:"#8aedeb"},Z:{shape:[["Z","Z",0],[0,"Z","Z"],[0,0,0]],color:"#dea6ec"}},C=function(){var n="IJLOSTZ",e=n[Math.floor(Math.random()*n.length)];return S[e]},I=t(1),M=y.a.div(o||(o=Object(v.a)(["\n    width: ","px;\n    height: ","px;\n    position: relative;\n    transform-style: preserve-3d;\n    transform: translateX(","px) translateY(","px)\n        translateZ(","px);\n    transition: transform 1s;\n\n    ","\n"])),k.size,k.size,k.spacing/2,k.spacing/2,k.size,(function(n){return!n.transparent&&"\n        &::after {\n            content: '';\n            position: absolute;\n            width: ".concat(k.size,"px;\n            height: ").concat(k.size,"px;\n            background: rgba(0,0,0,.1);\n            box-shadow: 0 0 10px rgba(0,0,0,.1);\n            transform: translateZ(-").concat(k.size,"px);\n        }\n    ")})),J=y.a.div(r||(r=Object(v.a)(["\n    position: absolute;\n    width: ","px;\n    height: ","px;\n    background: ",";\n    line-height: ","px;\n    font-size: 40px;\n    font-weight: bold;\n    color: white;\n    text-align: center;\n    box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.1) inset;\n    transform: ",";\n"])),k.size-2*k.spacing,k.size-2*k.spacing,(function(n){return n.color}),k.size,(function(n){var e=n.face;return"".concat(function(n){switch(n){case"right":return"rotateY(90deg)";case"back":return"rotateY(180deg)";case"left":return"rotateY(-90deg)";case"top":return"rotateX(90deg)";case"bottom":return"rotateX(-90deg)";default:case"front":return"rotateY(0deg)"}}(e)," translateZ(").concat(k.size/2-k.spacing,"px)")})),Z=function(n){return"transparent"===n.color?Object(I.jsx)(M,{transparent:!0}):Object(I.jsxs)(M,{children:[Object(I.jsx)(J,{face:"front",color:n.color}),Object(I.jsx)(J,{face:"back",color:n.color}),Object(I.jsx)(J,{face:"right",color:n.color}),Object(I.jsx)(J,{face:"left",color:n.color}),Object(I.jsx)(J,{face:"top",color:n.color}),Object(I.jsx)(J,{face:"bottom",color:n.color})]})},P=y.a.div(c||(c=Object(v.a)(["\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    color: #000;\n    padding: 20px;\n"]))),E=function(){return Object(I.jsxs)(P,{children:["Keybindings:",Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),"Up = Rotate tetromino",Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),"Left = Move tetromino left one cell",Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),"Right = Move tetromino right one cell",Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),"Down = Move tetromino down one cell",Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),"PageDown or End = Move tetromino all the way down"]})},L=y.a.div(a||(a=Object(v.a)(["\n    width: ",";\n    height: ",";\n    display: flex;\n    flex-flow: column nowrap;\n    justify-content: flex-end;\n    align-items: flex-end;\n    background: ",";\n\n    ","\n\n    box-shadow: 0 0 0 1px "," inset;\n    border: 2px solid #000;\n    border-radius: 8px;\n    position: relative;\n\n    "," {\n        box-shadow: none;\n        filter: ",";\n    }\n"])),(function(){return"".concat(z.width*k.size,"px")}),(function(){return"".concat(z.height*k.size,"px")}),z.backgroundColor,(function(n){return!n.showInstructions&&"\n        background-image: linear-gradient(".concat(z.lineColor," 1px, transparent 1px),\n            linear-gradient(90deg, ").concat(z.lineColor," 1px, transparent 1px);\n        background-size: ").concat(k.size,"px ").concat(k.size,"px,\n            ").concat(k.size,"px ").concat(k.size,"px;\n        background-position: -1px -1px, -1px -1px;\n    ")}),z.lineColor,M,(function(n){return n.paused?"blur(15px)":"none"})),R=y.a.div(i||(i=Object(v.a)(["\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    color: #000;\n    padding: 20px;\n    font-size: 40px;\n"]))),F=y.a.div(s||(s=Object(v.a)(["\n    display: flex;\n    height: ","px;\n    width: 100%;\n"])),k.size),T=y.a.div(l||(l=Object(v.a)(["\n    position: absolute;\n    left: ",";\n    width: ",";\n    top: 0;\n    bottom: 0;\n    background: ",";\n"])),(function(n){var e=n.left,t=n.columnWidth;return"".concat(e*t,"px")}),(function(n){var e=n.size,t=n.columnWidth;return"".concat(e*t,"px")}),z.guideColor),Y=function(n){return Object(I.jsxs)(L,{showInstructions:n.showInstructions,paused:n.paused,children:[n.showInstructions&&Object(I.jsx)(E,{}),n.paused&&Object(I.jsx)(R,{children:"Paused"}),n.activeColumns.size>0&&Object(I.jsx)(T,Object(w.a)(Object(w.a)({},n.activeColumns),{},{columnWidth:k.size})),n.stage.map((function(n,e){return Object(I.jsx)(F,{children:n.map((function(n,t){var o=Object(m.a)(n,2),r=o[0];o[1];return Object(I.jsx)(Z,{color:0===r?"transparent":S[r].color},e+t)}))},e)}))]})},G=function(){return Array.from(Array(z.height),(function(){return new Array(z.width).fill([0,"clear"])}))},W=function(n,e,t){for(var o=t.x,r=t.y,c=0;c<n.tetromino.length;c+=1)for(var a=0;a<n.tetromino[c].length;a+=1)if(0!==n.tetromino[c][a]&&(!e[c+n.pos.y+r]||!e[c+n.pos.y+r][a+n.pos.x+o]||"clear"!==e[c+n.pos.y+r][a+n.pos.x+o][1]))return!0},A={pos:{x:0,y:0},tetromino:S[0].shape,collided:!1},B=t(6),D=function(n,e){var t=Object(h.useState)(G()),o=Object(m.a)(t,2),r=o[0],c=o[1],a=Object(h.useState)(0),i=Object(m.a)(a,2),s=i[0],l=i[1],u=Object(h.useState)({left:0,size:0}),f=Object(m.a)(u,2),p=f[0],d=f[1];return Object(h.useEffect)((function(){l(0);var t=function(t){var o=t.map((function(n){return n.map((function(n){return"clear"===n[1]?[0,"clear"]:n}))})),r=n.tetromino.map((function(n){var e=n.map((function(n,e){return 0!==n?e+1:0})).filter((function(n){return n>0}));return e.length>0?[Math.min.apply(Math,Object(B.a)(e)),Math.max.apply(Math,Object(B.a)(e))]:[]})).filter((function(n){return n.length>0})).flat();return d({left:n.pos.x+(Math.min.apply(Math,Object(B.a)(r))-1),size:Math.max.apply(Math,Object(B.a)(r))-Math.min.apply(Math,Object(B.a)(r))+1}),n.tetromino.forEach((function(e,t){e.forEach((function(e,r){if(0!==e){var c=t+n.pos.y,a=r+n.pos.x;o[c][a]=[e,n.collided?"merged":"clear"]}}))})),n.collided?(e(),function(n){return n.reduce((function(e,t){return-1===t.findIndex((function(n){return 0===n[0]}))?(l((function(n){return n+1})),e.unshift(new Array(n[0].length).fill([0,"clear"])),e):(e.push(t),e)}),[])}(o)):o};c((function(n){return t(n)}))}),[n,e]),[r,c,s,p]},X=function(n,e){var t=Object(h.useRef)((function(){}));Object(h.useEffect)((function(){t.current=n})),Object(h.useEffect)((function(){if(null!==e){var n=setInterval((function(){return t.current()}),e||0);return function(){return clearInterval(n)}}}),[e])},K=y.a.div(u||(u=Object(v.a)(["\n    font-family: 'Press Start 2P', cursive;\n    border: 2px solid #000;\n    border-radius: 8px;\n    line-height: 50px;\n    font-size: 20px;\n    background: #fff;\n    margin-top: 20px;\n    color: #000;\n    padding: 0 20px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]))),U=y.a.button(f||(f=Object(v.a)(["\n    outline: none;\n    border: 2px solid #000;\n    border-radius: 8px;\n    line-height: 25px;\n    font-size: 20px;\n    padding: 20px;\n    background: #FFF;\n    font-family: inherit;\n\n    &:hover {\n        cursor: pointer;\n        box-shadow: 0 0 20px rgba(0,0,0,.2);\n    }\n"]))),N=y.a.div(p||(p=Object(v.a)(["\n    position: fixed;\n    display: flex;\n    width: 100%;\n    height: 100%;\n    justify-content: center;\n    align-items: center;\n    z-index: 99;\n    color: #000;\n    font-size: 60px;\n    font-size: 8vw;\n    display: flex;\n    flex-flow: column wrap;\n    font-family: 'Press Start 2P', cursive;\n    text-shadow: 10px 10px 0 #fff, 0px 10px 0 #fff, -10px 10px 0 #fff, 0px 0px 0 #fff, 0px -10px 0 #fff,\n        10px -10px 0 #fff, -10px -10px 0 #fff, 0 0 30px #000;\n"]))),q=y.a.div(d||(d=Object(v.a)(["\n    margin-right: 20px;\n    display: flex;\n    flex-flow: column wrap;\n    justify-content: flex-start;\n    align-items: stretch;\n"]))),H=y.a.div(b||(b=Object(v.a)(["\n    display: flex;\n    flex-flow: column wrap;\n"]))),Q=y.a.div(x||(x=Object(v.a)(["\n    min-height: 100%;\n    outline: none;\n    display: flex;\n    flex-flow: row nowrap;\n    transform-style: preserve-3d;\n    transform: rotateX(",") rotateY(0deg) translateZ(0px);\n    filter: ",";\n    font-family: 'Press Start 2P', cursive;\n\n    // desktop size\n    @media (min-width: ","px) {\n        flex-flow: row nowrap;\n\n        "," {\n            width: 300px;\n        }\n    }\n\n    // mobile size\n    @media (max-width: ","px) {\n        flex-flow: column nowrap;\n\n        "," {\n            font-size: 14px;\n            margin-top: 0;\n            padding: 8px;\n            line-height: 14px;\n            display: block;\n            border: 0;\n        }\n\n        "," {\n            margin: 0;\n            padding: 20px;\n\n            "," {\n                border: 2px solid #000;\n                border-radius: 8px;\n                flex-flow: row wrap;\n                margin: 10px 0;\n                background: #fff;\n            }\n        }\n\n        justify-content: center;\n        align-items: center;\n    }\n"])),(function(n){var e=n.tilt;return"".concat(e,"deg")}),(function(n){return n.gameOver?"blur(5px)":"none"}),k.size*z.width+300,q,k.size*z.width+300,K,q,H),V=y.a.input(j||(j=Object(v.a)(["\n    width: 100%;\n"]))),$=function(){var n=Object(h.useState)(0),e=Object(m.a)(n,2),t=e[0],o=e[1],r=Object(h.useState)(null),c=Object(m.a)(r,2),a=c[0],i=c[1],s=Object(h.useState)(!1),l=Object(m.a)(s,2),u=l[0],f=l[1],p=Object(h.useState)(!1),d=Object(m.a)(p,2),b=d[0],x=d[1],j=Object(h.useState)(!1),O=Object(m.a)(j,2),g=O[0],v=O[1],y=function(){var n=Object(h.useState)(A),e=Object(m.a)(n,2),t=e[0],o=e[1],r=function(n,e){var t=n.map((function(e,t){return n.map((function(n){return n[t]}))}));return e>0?t.map((function(n){return n.reverse()})):t.reverse()},c=Object(h.useCallback)((function(){o({pos:{x:z.width/2-2,y:0},tetromino:C().shape,collided:!1})}),[]);return[t,function(n){var e=n.x,t=n.y,r=n.collided;o((function(n){return Object(w.a)(Object(w.a)({},n),{},{pos:{x:n.pos.x+=e,y:n.pos.y+=t},collided:r})}))},c,function(n,e){var c=JSON.parse(JSON.stringify(t));c.tetromino=r(c.tetromino,e);for(var a=c.pos.x,i=1;W(c,n,{x:0,y:0});)if(c.pos.x+=i,(i=-(i+(i>0?1:-1)))>c.tetromino[0].length)return r(c.tetromino,-e),void(c.pos.x=a);o(c)}]}(),k=Object(m.a)(y,4),S=k[0],M=k[1],J=k[2],Z=k[3],P=D(S,J),E=Object(m.a)(P,4),L=E[0],R=E[1],F=E[2],T=E[3],B=function(n){var e=Object(h.useState)(0),t=Object(m.a)(e,2),o=t[0],r=t[1],c=Object(h.useState)(0),a=Object(m.a)(c,2),i=a[0],s=a[1],l=Object(h.useState)(0),u=Object(m.a)(l,2),f=u[0],p=u[1],d=[40,100,300,1200],b=Object(h.useCallback)((function(){n>0&&(r((function(e){return e+d[n-1]*(f+1)})),s((function(e){return e+n})))}),[f,d,n]);return Object(h.useEffect)((function(){b()}),[b,n,o]),[o,r,i,s,f,p]}(F),$=Object(m.a)(B,6),_=$[0],nn=$[1],en=$[2],tn=$[3],on=$[4],rn=$[5],cn=Object(h.useRef)(null),an=function(n){fn(),W(S,L,{x:n,y:0})||M({x:n,y:0,collided:!1})},sn=function(){R(G()),i(1e3),J(),nn(0),rn(0),tn(0),f(!1),v(!0)},ln=function(n){en>10*(on+1)&&(rn((function(n){return n+1})),i(1e3/(on+1)+200));for(var e=0,t=1;t<=n&&!W(S,L,{x:0,y:t});t+=1)e=t;e===n?M({x:0,y:n,collided:!1}):(S.pos.y<1&&(v(!1),f(!0),i(null)),M({x:0,y:e,collided:!0}))},un=function(){x(!0),i(null)},fn=function(){x(!1),i(1e3/(on+1))},pn=function(n){var e=!0;if(!u)switch(n.keyCode){case 37:an(-1);break;case 39:an(1);break;case 40:i(null),ln(1);break;case 38:Z(L,1);break;case 80:b?fn():un();break;case 34:case 35:i(null),ln(z.height);break;default:console.log("Unused keystroke: ".concat(n.keyCode)),e=!1}e&&n.preventDefault()};return X((function(){ln(1)}),a),Object(I.jsxs)(I.Fragment,{children:[u&&Object(I.jsxs)(N,{children:[Object(I.jsx)("p",{children:"Game Over"}),Object(I.jsx)(U,{onClick:function(){var n;sn(),null===cn||void 0===cn||null===(n=cn.current)||void 0===n||n.focus()},children:"Restart Game"})]}),Object(I.jsxs)(Q,{ref:cn,tilt:t,gameOver:u,role:"button",tabIndex:0,onKeyUp:function(n){var e=n.keyCode;u||40!==e&&34!==e&&35!==e||fn()},onKeyDown:function(n){pn(n)},children:[Object(I.jsxs)(q,{children:[g?Object(I.jsx)(U,{onClick:function(){b?fn():un()},children:b?"Continue Game":"Pause Game"}):Object(I.jsx)(U,{onClick:function(){sn()},children:"Start Game"}),Object(I.jsxs)(H,{children:[Object(I.jsxs)(K,{children:["Score: ",_]}),Object(I.jsxs)(K,{children:["Rows: ",en]}),Object(I.jsxs)(K,{children:["Level: ",on]}),Object(I.jsxs)(K,{children:["Tilt:",Object(I.jsx)(V,{type:"range",name:"volume",value:t,min:"0",max:"45",onChange:function(n){var e=n.target;o(parseInt(e.value))}})]})]})]}),Object(I.jsx)(Y,{paused:b,stage:L,showInstructions:!g,activeColumns:T})]})]})};g.a.render(Object(I.jsx)($,{}),document.getElementById("tetris"))}},[[24,1,2]]]);
//# sourceMappingURL=main.f4f84b9f.chunk.js.map