(this["webpackJsonpJohans-Resume-Website"]=this["webpackJsonpJohans-Resume-Website"]||[]).push([[0],{21:function(n,e,t){"use strict";t.r(e);var r,o,c,a,i,s,l,u,f,p,x,d=t(0),b=t(10),j=t.n(b),h=t(3),O=t(4),g=t(2),m={width:10,height:20,backgroundColor:"#FFF",lineColor:"#BBB"},v={size:38,spacing:0},y={0:{shape:[[0]],color:"0, 0, 0"},I:{shape:[[0,"I",0,0],[0,"I",0,0],[0,"I",0,0],[0,"I",0,0]],color:"#EBA83A"},J:{shape:[[0,"J",0],[0,"J",0],["J","J",0]],color:"#E4BAD4"},L:{shape:[[0,"L",0],[0,"L",0],[0,"L","L"]],color:"#FFC074"},O:{shape:[["O","O"],["O","O"]],color:"#FAEBE0"},S:{shape:[[0,"S","S"],["S","S",0],[0,0,0]],color:"#F7E6AD"},T:{shape:[[0,0,0],["T","T","T"],[0,"T",0]],color:"#C9D8B6"},Z:{shape:[["Z","Z",0],[0,"Z","Z"],[0,0,0]],color:"#F1ECC3"}},w=function(){var n="IJLOSTZ",e=n[Math.floor(Math.random()*n.length)];return y[e]},z=t(1),k=O.a.div(r||(r=Object(h.a)(["\n    width: ","px;\n    height: ","px;\n    position: relative;\n    transform-style: preserve-3d;\n    transform:  translateX(","px) translateY(","px) translateZ(","px);\n    transition: transform 1s;\n    \n    ","\n"])),v.size,v.size,v.spacing/2,v.spacing/2,v.size,(function(n){return!n.transparent&&"\n        &::after {\n            content: '';\n            position: absolute;\n            width: ".concat(v.size,"px;\n            height: ").concat(v.size,"px;\n            background: rgba(0,0,0,.1);\n            box-shadow: 0 0 10px rgba(0,0,0,.1);\n            transform: translateZ(-").concat(v.size,"px);\n        }\n    ")})),S=O.a.div(o||(o=Object(h.a)(["\n    position: absolute;\n    width: ","px;\n    height: ","px;\n    background: ",";\n    line-height: ","px;\n    font-size: 40px;\n    font-weight: bold;\n    color: white;\n    text-align: center;\n    box-shadow: 0 0 0 1px rgba(0,0,0,.1) inset;\n    transform: ",";\n"])),v.size-2*v.spacing,v.size-2*v.spacing,(function(n){return n.color}),v.size,(function(n){var e=n.face;return"".concat(function(n){switch(n){case"right":return"rotateY(90deg)";case"back":return"rotateY(180deg)";case"left":return"rotateY(-90deg)";case"top":return"rotateX(90deg)";case"bottom":return"rotateX(-90deg)";default:case"front":return"rotateY(0deg)"}}(e)," translateZ(").concat(v.size/2-v.spacing,"px)")})),C=function(n){return"transparent"===n.color?Object(z.jsx)(k,{transparent:!0}):Object(z.jsxs)(k,{children:[Object(z.jsx)(S,{face:"front",color:n.color}),Object(z.jsx)(S,{face:"back",color:n.color}),Object(z.jsx)(S,{face:"right",color:n.color}),Object(z.jsx)(S,{face:"left",color:n.color}),Object(z.jsx)(S,{face:"top",color:n.color}),Object(z.jsx)(S,{face:"bottom",color:n.color})]})},E=O.a.div(c||(c=Object(h.a)(["\n    width: ",";\n    height: ",";\n    display: flex;\n    flex-flow: column nowrap;\n    justify-content: flex-end;\n    align-items: flex-end;\n    background: ",";\n    background-image: \n        linear-gradient("," 1px, transparent 1px),\n        linear-gradient(90deg, "," 1px, transparent 1px);\n    background-size: ","px ","px, ","px ","px;\n    background-position: -1px -1px, -1px -1px;\n    box-shadow: 0 0 0 1px "," inset;\n    border: 2px solid #000;\n    border-radius: 8px;\n"])),(function(){return"".concat(m.width*v.size,"px")}),(function(){return"".concat(m.height*v.size,"px")}),m.backgroundColor,m.lineColor,m.lineColor,v.size,v.size,v.size,v.size,m.lineColor),F=O.a.div(a||(a=Object(h.a)(["\n    display: flex;\n    height: ","px;\n    width: 100%;\n"])),v.size),I=function(n){return Object(z.jsx)(E,{children:n.stage.map((function(n,e){return Object(z.jsx)(F,{children:n.map((function(n,t){var r=Object(g.a)(n,2),o=r[0];r[1];return Object(z.jsx)(C,{color:0===o?"transparent":y[o].color},e+t)}))},e)}))})},J=t(9),A=function(){return Array.from(Array(m.height),(function(){return new Array(m.width).fill([0,"clear"])}))},Z=function(n,e,t){for(var r=t.x,o=t.y,c=0;c<n.tetromino.length;c+=1)for(var a=0;a<n.tetromino[c].length;a+=1)if(0!==n.tetromino[c][a]&&(!e[c+n.pos.y+o]||!e[c+n.pos.y+o][a+n.pos.x+r]||"clear"!==e[c+n.pos.y+o][a+n.pos.x+r][1]))return!0},B={pos:{x:0,y:0},tetromino:y[0].shape,collided:!1},L=function(n,e){var t=Object(d.useState)(A()),r=Object(g.a)(t,2),o=r[0],c=r[1],a=Object(d.useState)(0),i=Object(g.a)(a,2),s=i[0],l=i[1];return Object(d.useEffect)((function(){l(0);var t=function(t){var r=t.map((function(n){return n.map((function(n){return"clear"===n[1]?[0,"clear"]:n}))}));return n.tetromino.forEach((function(e,t){e.forEach((function(e,o){if(0!==e){var c=t+n.pos.y,a=o+n.pos.x;r[c][a]=[e,n.collided?"merged":"clear"]}}))})),n.collided?(e(),function(n){return n.reduce((function(e,t){return-1===t.findIndex((function(n){return 0===n[0]}))?(l((function(n){return n+1})),e.unshift(new Array(n[0].length).fill([0,"clear"])),e):(e.push(t),e)}),[])}(r)):r};c((function(n){return t(n)}))}),[n,e]),[o,c,s]},P=function(n,e){var t=Object(d.useRef)((function(){}));Object(d.useEffect)((function(){t.current=n})),Object(d.useEffect)((function(){if(null!==e){var n=setInterval((function(){return t.current()}),e||0);return function(){return clearInterval(n)}}}),[e])},G=O.a.div(i||(i=Object(h.a)(["\n    font-family: 'Press Start 2P', cursive;\n    border: 2px solid #000;\n    border-radius: 8px;\n    line-height: 50px;\n    font-size: 20px;\n    background: #FFF;\n    margin-top: 20px;\n    color: #000;\n    padding: 0 20px;\n"]))),R=function(n){return Object(z.jsx)(G,{children:n.text})},T=O.a.div(s||(s=Object(h.a)(["\n    height: 100vh;\n    outline: none;\n    display: flex;\n    flex-flow: row nowrap;\n    transform-style: preserve-3d;\n    transform: rotateX(35deg) rotateY(0deg) translateZ(100px);\n    filter: ",";\n"])),(function(n){return n.gameOver?"blur(5px)":"none"})),Y=O.a.div(l||(l=Object(h.a)(["\n    width: 300px;\n    margin-right: 20px;\n    display: flex;\n    flex-flow: column wrap;\n    justify-content: flex-start;\n    align-items: stretch;\n"]))),D=O.a.div(u||(u=Object(h.a)(["\n    position: fixed;\n    display: flex;\n    width: 100%;\n    height: 100%;\n    justify-content: center;\n    align-items: center;\n    z-index: 99;\n    font-family: 'Press Start 2P', cursive;\n    color: #000;\n    font-size: 60px;\n    font-size: 8vw;\n    display: flex;\n    flex-flow: column wrap;\n"]))),X=O.a.button(f||(f=Object(h.a)(["\n    outline: none;\n    border: 2px solid #000;\n    border-radius: 8px;\n    line-height: 50px;\n    font-size: 20px;\n    background: #FFF;\n    font-family: 'Press Start 2P', cursive;\n\n    &:hover {\n        cursor: pointer;\n        box-shadow: 0 0 20px rgba(0,0,0,.2);\n    }\n"]))),M=function(){var n=Object(d.useState)(null),e=Object(g.a)(n,2),t=e[0],r=e[1],o=Object(d.useState)(!1),c=Object(g.a)(o,2),a=c[0],i=c[1],s=Object(d.useState)(!1),l=Object(g.a)(s,2),u=l[0],f=l[1],p=Object(d.useState)(!1),x=Object(g.a)(p,2),b=x[0],j=x[1],h=function(){var n=Object(d.useState)(B),e=Object(g.a)(n,2),t=e[0],r=e[1],o=function(n,e){var t=n.map((function(e,t){return n.map((function(n){return n[t]}))}));return e>0?t.map((function(n){return n.reverse()})):t.reverse()},c=Object(d.useCallback)((function(){r({pos:{x:m.width/2-2,y:0},tetromino:w().shape,collided:!1})}),[]);return[t,function(n){var e=n.x,t=n.y,o=n.collided;r((function(n){return Object(J.a)(Object(J.a)({},n),{},{pos:{x:n.pos.x+=e,y:n.pos.y+=t},collided:o})}))},c,function(n,e){var c=JSON.parse(JSON.stringify(t));c.tetromino=o(c.tetromino,e);for(var a=c.pos.x,i=1;Z(c,n,{x:0,y:0});)if(c.pos.x+=i,(i=-(i+(i>0?1:-1)))>c.tetromino[0].length)return o(c.tetromino,-e),void(c.pos.x=a);r(c)}]}(),O=Object(g.a)(h,4),v=O[0],y=O[1],k=O[2],S=O[3],C=L(v,k),E=Object(g.a)(C,3),F=E[0],G=E[1],M=function(n){var e=Object(d.useState)(0),t=Object(g.a)(e,2),r=t[0],o=t[1],c=Object(d.useState)(0),a=Object(g.a)(c,2),i=a[0],s=a[1],l=Object(d.useState)(0),u=Object(g.a)(l,2),f=u[0],p=u[1],x=[40,100,300,1200],b=Object(d.useCallback)((function(){n>0&&(o((function(e){return e+x[n-1]*(f+1)})),s((function(e){return e+n})))}),[f,x,n]);return Object(d.useEffect)((function(){b()}),[b,n,r]),[r,o,i,s,f,p]}(E[2]),K=Object(g.a)(M,6),N=K[0],U=K[1],W=K[2],V=K[3],q=K[4],H=K[5],Q=function(n){Z(v,F,{x:n,y:0})||y({x:n,y:0,collided:!1})},$=function(){G(A()),r(1e3),k(),U(0),H(0),V(0),i(!1),j(!0)},_=function(){W>10*(q+1)&&(H((function(n){return n+1})),r(1e3/(q+1)+200)),Z(v,F,{x:0,y:1})?(v.pos.y<1&&(console.log("GAME OVER"),j(!1),i(!0),r(null)),y({x:0,y:0,collided:!0})):y({x:0,y:1,collided:!1})},nn=function(n){var e=n.keyCode;if(!a)switch(e){case 37:Q(-1);break;case 39:Q(1);break;case 40:r(null),_();break;case 38:S(F,1)}};return P((function(){_()}),t),Object(z.jsxs)(z.Fragment,{children:[a&&Object(z.jsxs)(D,{children:[Object(z.jsx)("p",{children:"Game Over"}),Object(z.jsx)(X,{onClick:function(){$()},children:"Restart Game"})]}),Object(z.jsxs)(T,{gameOver:a,role:"button",tabIndex:0,onKeyUp:function(n){var e=n.keyCode;a||40!==e||r(1e3/(q+1))},onKeyDown:function(n){nn(n),n.preventDefault()},children:[Object(z.jsxs)(Y,{children:[b?Object(z.jsx)(X,{onClick:function(){u?(f(!1),r(1e3/(q+1))):(f(!0),r(null))},children:u?"Continue Game":"Pause Game"}):Object(z.jsx)(X,{onClick:function(){$()},children:"Start Game"}),Object(z.jsx)(R,{text:"Score: ".concat(N)}),Object(z.jsx)(R,{text:"Rows: ".concat(W)}),Object(z.jsx)(R,{text:"Level: ".concat(q)})]}),Object(z.jsx)(I,{stage:F})]})]})},K=O.a.div(p||(p=Object(h.a)(["\n    margin: 0;\n    font-family: 'Segoe UI', sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    color: #db7093;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    perspective: 1000px;\n"]))),N=(O.a.div(x||(x=Object(h.a)(["\n    font-size: calc(10px + 2vmin);\n"]))),function(){return Object(z.jsx)(K,{children:Object(z.jsx)(M,{})})});j.a.render(Object(z.jsx)(N,{}),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.90f542ab.chunk.js.map